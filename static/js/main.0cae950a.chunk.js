(this.webpackJsonplifebook=this.webpackJsonplifebook||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},104:function(e,t,s){},105:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(39),l=s.n(n),i=s(5),r=(s(47),s(48),s(69),s(2)),d=s(3),o=s.n(d),b=s(8),j=s(4),m=s(18),x=s.n(m).a.create({baseURL:"https://mern-lifebook-github.herokuapp.com/api/v1/auth/",withCredentials:!0,credentials:"include"}),u=s(0),h=Object(a.createContext)(),p=Object(a.createContext)(),O=function(e){var t=e.children,s=[localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):""],c=Object(a.useState)([]),n=Object(r.a)(c,2),l=n[0],i=n[1],d=Object(a.useState)([]),m=Object(r.a)(d,2),p=m[0],O=m[1],f=Object(a.useState)(s),v=Object(r.a)(f,2),g=v[0],N=v[1],y=Object(a.useState)([]),k=Object(r.a)(y,2),w=k[0],_=k[1],C=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,document.getElementById("App").classList.add("loading"),e.next=4,x.get("/user",{headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t)}});case 4:s=e.sent,O([s.data.user]),i(Object(b.a)(s.data.getPosts)),(a=document.getElementById("App"))&&(a.classList.remove("loading"),document.getElementById("main").classList.remove("d-none")),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),(c=document.getElementById("App"))&&c.classList.remove("loading"),(n=document.getElementById("main"))&&n.classList.remove("d-none"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(g.length>0){var e=g[0];C(e)}}),[g]),Object(a.useEffect)((function(){if(g.length>0){var e=g[0];C(e)}}),[w]),Object(u.jsx)(h.Provider,{value:{isLoggedState:[g,N],loggeduserState:[p,O],postState:[l,i],isCreatedPostState:[w,_]},children:t})},f=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useContext)(h).loggeduserState,d=Object(r.a)(i,1)[0],b=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("/graphql",JSON.stringify({query:"\n                query {\n                    getOneNotification (id: ".concat(JSON.stringify(d[0]._id),") {\n                        read {\n                            time\n                            post_id\n                            buddy_id\n                            react_type\n                            reacted_user {\n                                name\n                                id\n                            }\n                            message\n                        }\n                        unread {\n                            time\n                            post_id\n                            react_type\n                            buddy_id \n                            reacted_user{\n                                name\n                                id\n                            }\n                            message\n                        }\n                        \n                    }\n                }\n                ")}),{headers:{"Content-Type":"application/json"}});case 3:t=e.sent,l([t.data.data.getOneNotification]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d.length>0&&b()}),[d]),Object(u.jsx)(p.Provider,{value:[n,l],children:t})},v=(s(91),function(){return Object(u.jsx)("div",{className:"bg-white",children:Object(u.jsx)("div",{className:"container px-5",children:Object(u.jsxs)("div",{className:"row row-cols-1",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("ul",{className:"nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"English"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u09ac\u09be\u0982\u09b2\u09be"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0939\u093f\u0928\u094d\u0926\u0940 "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0928\u0947\u092a\u093e\u0932\u0940 "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Bahasa Indonesia "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629 "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u4e2d\u6587(\u7b80\u4f53) "})})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("ul",{className:"nav",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Sign Up"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Log In"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Messenger"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Facebook Lite "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Watch "})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Places"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Games"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Marketplace"})})]})})]})})})}),g=function(){var e=Object(a.useContext)(h).isLoggedState,t=Object(r.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(""),l=Object(r.a)(n,2),i=l[0],d=l[1],m=Object(a.useState)(""),p=Object(r.a)(m,2),O=p[0],f=p[1],g=Object(a.useState)(""),N=Object(r.a)(g,2),y=N[0],k=N[1],w=Object(a.useState)(""),_=Object(r.a)(w,2),C=_[0],S=_[1],L=Object(a.useState)(""),A=Object(r.a)(L,2),I=A[0],P=A[1],D=Object(a.useRef)(null),B=Object(a.useRef)(null),E=Object(a.useRef)(null),T=Object(a.useRef)(null),z=Object(a.useRef)(null),U=Object(a.useRef)(null),R=Object(a.useRef)(null),q=Object(a.useRef)(null),F=Object(a.useRef)(null),W=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,l,i,r,d,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=34;break;case 6:return e.prev=6,E.current.setAttribute("disabled","true"),B.current.classList.remove("d-none"),a=t.target.elements.lemail.value,n=t.target.elements.lpassword.value,l={email:a,password:n},i={headers:{"Content-Type":"application/json"}},e.next=15,x.post("/login",l,i);case 15:r=e.sent,d=r.data.token,s.push([d]),c(Object(b.a)(s)),localStorage.setItem("token",JSON.stringify(d)),U.current.classList.remove("d-none"),setTimeout((function(){U.current.classList.add("d-none")}),3e3),window.location.reload(),e.next=34;break;case 25:e.prev=25,e.t0=e.catch(6),console.log(e.t0.response),j=document.getElementById("halert"),B.current.classList.add("d-none"),E.current.removeAttribute("disabled"),j.classList.remove("d-none"),j.innerText="".concat(e.t0.response.data),setTimeout((function(){j.classList.add("d-none")}),5e3);case 34:case"end":return e.stop()}}),e,null,[[6,25]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=41;break;case 6:if(!t.target.elements.spassword.classList.value.includes("is-invalid")){e.next=10;break}alert("Password invalid"),e.next=41;break;case 10:return t.target.classList.add("was-validated"),e.prev=11,T.current.setAttribute("disabled","true"),D.current.classList.remove("d-none"),s={fName:i,lName:O,email:y,password:C,Dob:I},a={headers:{"Content-Type":"application/json"}},console.log("here too"),e.next=19,x.post("/signup",s,a);case 19:R.current.classList.remove("d-none"),R.current.innerHTML='<span class="bi bi-check-circle-fill text-success flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"></span>\n                    <div>Registration successfull. You can log in now! </div>',setTimeout((function(){R.current.classList.add("d-none")}),5e3),d(""),f(""),k(""),S(""),P(""),D.current.classList.add("d-none"),T.current.removeAttribute("disabled"),q.current.classList.remove("was-validated"),F.current.classList.remove("is-valid"),q.current.classList.add("needs-validation"),e.next=41;break;case 34:e.prev=34,e.t0=e.catch(11),z.current.classList.remove("d-none"),z.current.innerText="".concat(e.t0.response.data),setTimeout((function(){z.current.classList.add("d-none")}),5e3),D.current.classList.add("d-none"),T.current.removeAttribute("disabled");case 41:case"end":return e.stop()}}),e,null,[[11,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"bg-light d-flex justify-content-center align-items-center vh-100 homepage-container",children:[Object(u.jsxs)("div",{className:"alert alert-danger d-flex align-items-center homepage-alert d-none",id:"halert",role:"alert",children:[Object(u.jsx)("svg",{className:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:",children:Object(u.jsx)("use",{xlinkHref:"#exclamation-triangle-fill"})}),Object(u.jsx)("div",{children:"An example danger alert with an icon"})]}),Object(u.jsxs)("div",{class:"alert alert-success d-flex align-items-center homepage-alert d-none",ref:U,role:"alert",children:[Object(u.jsx)("span",{class:"bi bi-check-circle-fill text-success flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"}),Object(u.jsx)("div",{children:"Logged in ..."})]}),Object(u.jsxs)("div",{className:"row gx-2 gy-5 gy-md-0 gx-md-5 p-3 p-md-5",children:[Object(u.jsx)("div",{className:"col-12 col-md-6 col-lg-7 h-50 d-flex justify-content-center align-items-center flex-column p-4",children:Object(u.jsxs)("div",{className:"px-md-2 px-lg-5 ",children:[Object(u.jsx)("h1",{className:"text-primary text-start",children:"Lifebook"}),Object(u.jsx)("h3",{children:"Lifebook helps you connect and share with the people in your life"}),Object(u.jsx)("img",{src:"",id:"img",alt:""})]})}),Object(u.jsxs)("div",{className:"col-12 col-md-6 col-lg-5 ",children:[Object(u.jsx)("div",{className:"login-form pt-2 border bg-white px-2 shadow rounded",children:Object(u.jsx)("form",{action:"#",onSubmit:function(e){return W(e)},children:Object(u.jsxs)("div",{className:"row row-cols-1 gy-4 p-2",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("input",{type:"email",name:"name",id:"lemail",className:"form-control",placeholder:"Email address or Phone number",required:!0})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("input",{type:"password",name:"password",id:"lpassword",className:"form-control",placeholder:"Password",required:!0})}),Object(u.jsx)("div",{className:"col px-4",children:Object(u.jsxs)("button",{type:"submit",ref:E,className:"btn btn-primary w-100",children:[Object(u.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:B,role:"status","aria-hidden":"true"}),"Login"]})}),Object(u.jsxs)("div",{className:"col",children:[Object(u.jsx)("a",{href:"#",className:"nav-link text-center",children:" Forgotten password? "}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{className:"col px-5 d-flex justify-content-center",children:Object(u.jsx)("button",{type:"button",className:"btn btn-success mb-3","data-bs-toggle":"modal","data-bs-target":"#signup",children:"Create Account"})})]})})}),Object(u.jsx)("div",{className:"w-100 px-3 pt-3",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("a",{href:"#",className:"nav-link d-inline",children:"Create a page"})," for a celebrity, band or business."]})})]}),Object(u.jsx)("div",{class:"modal fade",id:"signup","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"signupLabel","aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsxs)("div",{className:"modal-title",children:[Object(u.jsx)("h3",{class:"modal-title",id:"staticBackdropLabel",children:"Sign Up"}),Object(u.jsx)("h6",{className:"text-muted",children:"It's quick and easy"})]}),Object(u.jsx)("div",{className:"alert alert-danger d-flex justify-content-center d-none",ref:z}),Object(u.jsx)("div",{className:"alert alert-success d-flex justify-content-center d-none",ref:R}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body",children:Object(u.jsx)("form",{action:"#",onSubmit:function(e){return H(e)},className:"needs-validation",ref:q,id:"signform",children:Object(u.jsxs)("div",{className:"row gy-2 gx-2 px-3",children:[Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",value:i,onChange:function(e){return d(e.target.value)},required:!0})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"last name",value:O,onChange:function(e){return f(e.target.value)},required:!0})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("input",{type:"email",className:"form-control",placeholder:"Email address",value:y,onChange:function(e){return k(e.target.value)},required:!0})}),Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("input",{type:"password",form:"signform",className:"form-control",id:"spassword",ref:F,placeholder:"password",onKeyUp:function(e){return function(e){var t=/[A-Z]/g,s=/[a-z]/g,a=/[0-9]/g,c=8,n="",l="",i="",r="";e.target.value.match(t)||(n="one capital letter,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.match(s)||(l="one small letter,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.match(a)||(i="one number,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.length<c&&(r="8 characters long",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),n.length>0||l.length>0||i.length>0||r.length>0?document.getElementById("spassfeedback").innerText="Password must have atleast "+n+" "+l+" "+i+" "+r+"!":e.target.value?(e.target.classList.add("is-valid"),e.target.classList.remove("is-invalid")):document.getElementById("spassfeedback").innerText="Password required"}(e)},value:C,onChange:function(e){return S(e.target.value)},required:!0}),Object(u.jsx)("div",{className:"invalid-feedback",id:"spassfeedback",children:" Password required! "})]}),Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("p",{className:"text-muted",children:"Date of Birth: "}),Object(u.jsx)("input",{type:"date",className:"form-control",placeholder:!0,value:I,onChange:function(e){return P(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("p",{className:"text-muted",children:"Gender: "}),Object(u.jsxs)("div",{className:"d-flex justify-content-evenly w-lg-50 px-2",children:[Object(u.jsx)("div",{class:"input-group ",children:Object(u.jsxs)("div",{class:"input-group-text",id:"btnGroupAddon",children:[Object(u.jsx)("input",{type:"radio",class:"form-check-input",name:"gender",id:"male","aria-label":"gender","aria-describedby":"btnGroupAddon",required:!0}),Object(u.jsx)("label",{htmlFor:"male",className:"form-check-label ps-2",children:"Male"})]})}),Object(u.jsx)("div",{class:"input-group",children:Object(u.jsxs)("div",{class:"input-group-text",id:"btnGroupAddon",children:[Object(u.jsx)("input",{type:"radio",class:"form-check-input",name:"gender",id:"female","aria-label":"gender","aria-describedby":"btnGroupAddon",required:!0}),Object(u.jsx)("label",{htmlFor:"female",className:"form-check-label ps-2",children:"female"})]})})]})]}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("small",{className:"text-muted text-start",children:"By clicking Sign Up, you agree to our Terms, Data Policy and Cookie Policy. You may receive SMS notifications from us and can opt out at any time."})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("button",{type:"submit",ref:T,className:"btn btn-success w-100",children:[Object(u.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:D,role:"status","aria-hidden":"true"}),"Sign Up"]})})]})})})]})})})]})]}),Object(u.jsx)(v,{})]})},N=s(6),y=(s(92),s(13)),k=s.n(y),w=function(e){var t,s=e.currentUser,c=Object(a.useContext)(p),n=Object(r.a)(c,2),l=n[0],d=(n[1],Object(a.useState)("")),m=Object(r.a)(d,2),h=m[0],O=m[1],f=Object(a.useState)([]),v=Object(r.a)(f,2),g=(v[0],v[1],Object(a.useState)([])),N=Object(r.a)(g,2),y=N[0],w=N[1],_=function(e){return"like"===e?"bi bi-hand-thumbs-up-fill text-primary pe-2":"comment"===e?"bi bi-chat-fill text-success pe-2":void 0},C=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,t={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s._id)}},e.next=5,x.put("/readnotification",{},t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(l.length>0){var e,t=Object(b.a)(null===(e=l[0])||void 0===e?void 0:e.read);t.reverse(),w(Object(b.a)(t))}}),[l]),Object(a.useEffect)((function(){var e;O(null===(e=l[0])||void 0===e?void 0:e.unread.length)}),[l]),Object(u.jsxs)("div",{className:"d-block border  px-xl-2 bg-light rounded-pill position-relative dropdown",style:{height:"45px",width:"45px"},children:[Object(u.jsx)("a",{className:"nav-link d-flex justify-content-center align-items-center p-0 h-100 w-100",id:"notificationdrop",role:"button","data-bs-toggle":"dropdown","aria-aria-expanded":"false",onClick:function(){return C()},children:Object(u.jsx)("span",{className:"bi bi-bell",style:{fontSize:"1.5rem",paddingTop:"0"}})}),h?Object(u.jsx)("div",{className:"rounded-pill bg-danger text-white position-absolute d-flex align-items-center justify-content-center",style:{top:"-8px",right:"-10px",height:"25px",width:"25px"},children:Object(u.jsx)("span",{children:h})}):null,Object(u.jsxs)("ul",{className:"dropdown-menu notify-dropdown px-2","aria-aria-labelledby":"notificationdrop",children:[(null===(t=l[0])||void 0===t?void 0:t.unread.length)>0?l[0].unread.map((function(e){return Object(u.jsx)("li",{className:"dropdown-item border-bottom bg-light",children:Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("div",{className:"mt-2",children:e.message?Object(u.jsx)("p",{children:e.message}):Object(u.jsxs)("p",{className:"notification-para px-2 mb-0 pb-0",children:[Object(u.jsx)("span",{className:"".concat(_(e.react_type))}),Object(u.jsxs)("b",{children:[" ",e.buddy_name," "]}),1==e.buddy_id.length&&"".concat(e.reacted_user[0].name," has "),2==e.buddy_id.length&&"".concat(e.reacted_user[0].name," and ").concat(e.reacted_user[1].name," "),e.reacted_user.length>2&&"".concat(e.reacted_user[0].name,", ").concat(e.reacted_user[1].name," and ").concat(e.reacted_user.length-2," others "),"like"===e.react_type&&"liked","comment"===e.react_type&&"commented on"," your",Object(u.jsx)(i.b,{to:"/post?id=".concat(e.post_id),style:{paddingLeft:".5rem",textDecoration:"none"},children:"Post"})]})}),Object(u.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(u.jsx)("p",{className:"text-muted",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})})):null,y.length>0?y.map((function(e){return Object(u.jsx)("li",{className:"dropdown-item border-bottom",children:Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("div",{className:"mt-2",children:e.message?Object(u.jsx)("p",{children:e.message}):Object(u.jsxs)("p",{className:"notification-para px-2 mb-0 pb-0",children:[Object(u.jsx)("span",{className:"".concat(_(e.react_type))}),Object(u.jsxs)("b",{children:[" ",e.buddy_name," "]}),1==e.reacted_user.length&&"".concat(e.reacted_user[0].name," has "),2==e.reacted_user.length&&"".concat(e.reacted_user[0].name," and ").concat(e.reacted_user[1].name," "),e.reacted_user.length>2&&"".concat(e.reacted_user[0].name,", ").concat(e.reacted_user[1].name," and ").concat(e.reacted_user.length-2," others "),"like"===e.react_type&&"liked","comment"===e.react_type&&"commented on"," your",Object(u.jsx)(i.b,{to:"/post?id=".concat(e.post_id),style:{paddingLeft:".5rem",textDecoration:"none"},children:"Post"})]})}),Object(u.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(u.jsx)("p",{className:"text-muted",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})})):Object(u.jsx)("li",{className:"dropdown-item",children:Object(u.jsx)("p",{className:"p-2",children:"No notification found!"})})]})]})},_=s.p+"static/media/mainLogo.12c4b016.jpg",C=function(e){var t=e.currentUser,s=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("/logout",{headers:{"Content-Type":"application/json"}});case 3:localStorage.setItem("token",""),window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-white sticky-top vw-100 border-bottom",id:"navbar",children:Object(u.jsxs)("div",{className:"container-fluid d-flex justify-content-between align-items-center px-3",children:[Object(u.jsxs)("div",{className:"navbrand",children:[Object(u.jsxs)("a",{className:"navbar-brand me-1",href:"/",children:[" ",Object(u.jsx)("img",{src:_,className:"rounded-pill border",height:"50px",width:"50px",alt:""})," "]}),Object(u.jsx)("button",{className:"btn rounded-pill bg-light navsearch border",children:Object(u.jsxs)("form",{action:"",children:[Object(u.jsx)("button",{type:"submit",className:"bg-light bi bi-search navsearchbtn"}),Object(u.jsx)("input",{type:"search",className:"form-control d-none d-xl-inline w-auto ms-2 bg-light navsearchinp",name:"search",placeholder:"Search lifebook..."})]})})]}),Object(u.jsxs)("ul",{className:"navbar-nav mid-nav justify-content-between d-flex",children:[Object(u.jsx)("li",{className:"nav-item d-none d-md-block",children:Object(u.jsx)(i.b,{to:"/",className:"nav-link ",children:Object(u.jsx)("span",{className:"bi bi-house-door"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"/",className:"nav-link d-none d-md-block",children:Object(u.jsx)("span",{className:"bi bi-collection-play"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link d-none d-md-block",children:Object(u.jsx)("span",{className:"bi bi-shop"})})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link d-none d-md-block",children:Object(u.jsx)("span",{className:"bi bi-people"})})}),Object(u.jsx)("li",{className:"nav-item d-flex align-items-center",children:Object(u.jsx)(w,{currentUser:t})})]}),Object(u.jsx)("button",{className:"btn navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNav","aria-controls":"offcanvasNav",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsxs)("div",{className:"offcanvas offcanvas-start d-sm-none bg-light",tabindex:"-1",id:"offcanvasNav","aria-labelledby":"offcanvasNavLabel",children:[Object(u.jsx)("div",{className:"offcanvas-header justify-content-center",children:Object(u.jsx)("button",{type:"button",className:"btn-close text-reset text-center","data-bs-dismiss":"offcanvas","aria-label":"Close"})}),Object(u.jsx)("div",{className:"offcanvas-body justify-content-center align-items-center",children:Object(u.jsxs)("ul",{className:"navbar-nav justify-content-center me-auto mb-2 mb-lg-0",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("button",{className:"btn","data-bs-dismiss":"offcanvas","aria-label":"Close",children:Object(u.jsx)(i.b,{className:"nav-link",to:"/profile?id=".concat(t._id),children:Object(u.jsxs)("div",{className:"row m-0",children:[Object(u.jsx)("div",{className:"col-2 m-0 ",children:Object(u.jsx)("img",{src:t.image,className:"d-inline rounded-pill",height:"35px",width:"35px",alt:t.name})}),Object(u.jsxs)("div",{className:"col-10 m-0",children:[Object(u.jsx)("p",{className:"d-inline text-dark ps-2",children:t.name}),Object(u.jsx)("p",{className:"text-muted",children:"See your profile"})]})]})})})}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row row-cols-2 gx-3 gy-3 my-2 px-3",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-bookmark"}),Object(u.jsx)("p",{children:"Saved"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-collection"}),Object(u.jsx)("p",{children:"Videos"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-flag"}),Object(u.jsx)("p",{children:"Pages"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-shop"}),Object(u.jsx)("p",{children:"Marketplace"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-people"}),Object(u.jsx)("p",{children:"Groups"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-person"}),Object(u.jsx)("p",{children:"Friends"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-calendar"}),Object(u.jsx)("p",{children:"Events"})]})})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(i.b,{to:"#",className:"text-dark",style:{textDecoration:"none"},children:Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center bg-white border p-2",children:[Object(u.jsx)("span",{className:"bi bi-gear"}),Object(u.jsx)("p",{children:"Settings"})]})})})]}),Object(u.jsx)("button",{type:"button",className:"btn btn-secondary w-100 ",onClick:s,children:" Log Out "})]})})]}),Object(u.jsx)("div",{className:"d-none d-sm-block",id:"navbarSupportedContent",children:Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 justify-content-end",children:[Object(u.jsx)("li",{className:"nav-item navuname d-none d-xl-block",children:Object(u.jsxs)(i.b,{className:"nav-link ",to:"/profile?id=".concat(t._id),children:[t.image?Object(u.jsx)("img",{src:t.image,className:"d-inline rounded-pill",height:"35px",width:"35px",alt:t.name}):Object(u.jsx)("span",{className:"bi bi-person-circle",style:{fontSize:"1.5rem"}}),Object(u.jsx)("p",{className:"d-inline text-dark ps-2",children:t.name})]})}),Object(u.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(u.jsx)("a",{className:"nav-link active",href:"#","aria-current":"page",children:Object(u.jsx)("span",{className:"bi bi-plus"})})}),Object(u.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(u.jsx)("a",{className:"nav-link",href:"#about-me",children:Object(u.jsx)("span",{className:"bi bi-chat-fill"})})}),Object(u.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(u.jsxs)("a",{className:"nav-link",href:"#my-skills",children:[" ",Object(u.jsx)("span",{className:"bi bi-bell"})]})}),Object(u.jsxs)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2 dropdown",children:[Object(u.jsx)("a",{className:"nav-link",href:"#my-works",role:"button",id:"profiledrop","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(u.jsx)("span",{className:"bi bi-caret-down-fill"})}),Object(u.jsxs)("ul",{class:"dropdown-menu nav-drop-down","aria-labelledby":"profiledrop",children:[Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{className:"row w-100",to:"/profile?id=".concat(t._id),children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("img",{src:t.image,className:"rounded-pill mt-1",height:"56px",width:"56px",alt:t.name})}),Object(u.jsxs)("div",{className:"col-8 pt-2",children:[Object(u.jsx)("h6",{className:"text-dark",children:t.name}),Object(u.jsx)("small",{className:"text-muted",children:"See your profile"})]})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)("li",{children:Object(u.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(u.jsx)("div",{className:"col-3 p-2",children:Object(u.jsx)("div",{className:"icon-drop-down rounded-pill bg-light",children:Object(u.jsx)("span",{className:"bi bi-chat-left-quote-fill ps-2"})})}),Object(u.jsxs)("div",{className:"col-8",children:[Object(u.jsx)("h6",{className:"text-dark",children:"Give FeedBack"}),Object(u.jsx)("small",{className:"text-muted",children:"help us improve new lifebook"})]})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)("li",{children:Object(u.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(u.jsx)("div",{className:"col-3 p-2",children:Object(u.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(u.jsx)("span",{className:"bi bi-gear ps-2"})})}),Object(u.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(u.jsx)("h6",{className:"text-dark",children:"Settings & Privacy"})})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(u.jsx)("div",{className:"col-3 p-2",children:Object(u.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(u.jsx)("span",{className:"bi bi-question-circle ps-2"})})}),Object(u.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(u.jsx)("h6",{className:"text-dark",children:"Help & Support"})})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(u.jsx)("div",{className:"col-3 p-2 ",children:Object(u.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(u.jsx)("span",{className:"bi bi-moon-fill ps-2"})})}),Object(u.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(u.jsx)("h6",{className:"text-dark",children:"Display & Accessibility"})})]})}),Object(u.jsx)("li",{children:Object(u.jsxs)("a",{onClick:s,class:"row w-100 text-dark ps-1",href:"#",children:[Object(u.jsx)("div",{className:"col-3 p-2",children:Object(u.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(u.jsx)("span",{className:"bi bi-box-arrow-left ps-2"})})}),Object(u.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(u.jsx)("h6",{className:"text-dark",children:"Log Out"})})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)("li",{children:Object(u.jsx)("div",{className:"row w-100 text-muted ps-1",href:"#",children:Object(u.jsxs)("div",{className:"col-12 p-2",style:{fontSize:"1rem"},children:[Object(u.jsx)("a",{className:"px-2",href:"",children:"Privacy"}),".",Object(u.jsx)("a",{className:"px-2",href:"",children:"Terms"}),".",Object(u.jsx)("a",{className:"px-2",href:"",children:"Advertising"}),".",Object(u.jsx)("a",{className:"px-2",href:"",children:"Ad Choices"}),".",Object(u.jsx)("a",{className:"px-2",href:"",children:"Cookies"}),".",Object(u.jsx)("a",{className:"px-2",href:"",children:"More"}),". @lifebook 2021"]})})})]})]})]})})]})})},S=(s(100),function(e){var t=e.currentUser;return Object(u.jsx)("section",{className:"leftsidebar-container mt-2 position-absolute w-100",children:Object(u.jsxs)("ul",{className:"d-flex flex-column w-100",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)(i.b,{to:"/profile?id=".concat(t._id),className:"nav-link",children:[t.image?Object(u.jsx)("img",{src:t.image,height:"35px",width:"35px",className:"me-2 rounded-pill",alt:t.name}):Object(u.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}}),t.name]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-person-plus-fill text-primary"})," Find friends"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Welcome"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-play-btn-fill text-primary"})," Watch"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-people-fill text-primary"})," Groups"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-shop-fill text-primary"}),"Marketplace"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-bookmark-fill text-primary"}),"Saved"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-arrow-counterclockwise text-primary"}),"Memories"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-flag-fill text-primary"}),"Pages"]})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsxs)("a",{href:"",className:"nav-link",children:[Object(u.jsx)("span",{className:"bi bi-calendar-date-fill text-primary"}),"Events"]})})]})})}),L=s(14),A=(s(37),Object(a.createContext)()),I=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useState)(!1),d=Object(r.a)(i,2),b=d[0],m=d[1],h=Object(a.useState)([]),p=Object(r.a)(h,2),O=p[0],f=p[1],v=Object(a.useState)(""),g=Object(r.a)(v,2),N=g[0],y=g[1],k=Object(a.useState)(""),w=Object(r.a)(k,2),_=w[0],C=w[1],S=Object(a.useState)(!1),L=Object(r.a)(S,2),I=L[0],P=L[1],D=function(){var e=Object(j.a)(o.a.mark((function e(t,s){var a,c,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t," ").concat(s)}},"like"!==s){e.next=11;break}return(c=document.getElementById("like".concat(t))).classList.add("spinner-border"),c.innerText="",e.next=8,x.get("/reacts",a);case 8:n=e.sent,l([n.data]),c.classList.remove("spinner-border");case 11:if("comment"!==s){e.next=19;break}return(i=document.getElementById("loadcomment".concat(t)))&&(i.classList.add("spinner-border"),i.innerText=""),e.next=16,x.get("/reacts",a);case 16:r=e.sent,f([r.data]),i&&i.classList.remove("spinner-border");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,s){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){D(_,N)}),[_,N,I,b]),Object(u.jsx)(A.Provider,{value:{likerState:[n,l],postidState:[C],commentsState:[O,f],reqtypeState:[y],newCommentState:[I,P],reqAgainState:[b,m]},children:t})},P=s(42),D=function(e){var t,s=e.i,c=e.currentUser,n=e.setIsCreatedPost,l=Object(a.useState)(""),d=Object(r.a)(l,2),b=d[0],m=d[1],h=Object(a.useContext)(A),p=h.likerState,O=h.postidState,f=h.commentsState,v=h.reqtypeState,g=h.newCommentState,N=h.reqAgainState,y=Object(r.a)(p,2),w=y[0],_=y[1],C=Object(r.a)(N,2),S=C[0],I=C[1],D=Object(r.a)(f,2),B=D[0],E=D[1],T=Object(r.a)(g,2),z=T[0],U=T[1],R=Object(r.a)(v,1)[0],q=Object(r.a)(O,1)[0],F=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=document.getElementById(t.target.id),e.prev=2,s.setAttribute("disabled","true"),a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=7,x.put("/likepost",{user_id:c._id},a);case 7:n(["newlike"]),s.removeAttribute("disabled"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),s.removeAttribute("disabled"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=document.getElementById(t.target.id),t.preventDefault(),e.prev=2,s.setAttribute("disabled","true"),a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=7,x.put("/unlikepost",{user_id:c._id},a);case 7:n(["newunlike"]),s.removeAttribute("disabled"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),s.removeAttribute("disabled"),console.log(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){I(!S);var s=e;R("comment"),q(s),"true"===t&&U(!z)},G=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=document.getElementById("spinner".concat(t.target.dataset.postId)),a=document.getElementById("commentbtn".concat(t.target.dataset.postId)),e.prev=3,a.setAttribute("disabled","true"),s.classList.remove("d-none"),l={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},i={comment:b,time:new Date,user_id:c._id},e.next=10,x.put("/comment",i,l);case 10:H(t.target.dataset.postId,"true"),m(""),n(["newcommetn"]),a.removeAttribute("disabled"),s.classList.add("d-none"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),a.removeAttribute("disabled"),s.classList.add("d-none"),console.log(e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=4,x.delete("/deletepost",s);case 4:window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"col-12 bg-white border rounded p-2","data-post-likes":s.reactions.likes.total,id:s._id,children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between py-1 px-1 px-sm-3",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[s.user_image?Object(u.jsx)("img",Object(L.a)({src:s.user_image,alt:"Name",className:"rounded-pill statusimg me-2"},"alt",s.name)):Object(u.jsx)("span",{className:"bi bi-person-circle pe-3",style:{fontSize:"1.5rem"}}),Object(u.jsxs)("div",{className:" text-start",children:[Object(u.jsx)(i.b,{to:"/profile?id=".concat(s.user_id),className:"mt-1 text-dark",style:{textDecoration:"none"},children:s.name}),Object(u.jsx)("p",{className:"text-muted text-start",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:s.time})})]})]}),Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("a",{className:"btn",style:{padding:"0",height:"24px"},href:"#my-works",role:"button",id:"".concat(s._id,"drop"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(u.jsx)("span",{className:"bi bi-justify"})}),Object(u.jsx)("ul",{class:"dropdown-menu","aria-labelledby":"".concat(s._id,"drop"),children:s.user_id===c._id?Object(u.jsx)("li",{className:"dropdown-item ",children:Object(u.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-bs-toggle":"modal","data-bs-target":"#del".concat(s._id),children:"Delete"})}):Object(u.jsx)("li",{className:"dropdown-item ",children:Object(u.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-post-id":s._id,onClick:function(e){return function(e){document.getElementById(e.target.dataset.postId).style.display="none"}(e)},children:"Hide"})})})]})]}),Object(u.jsxs)("div",{className:"px-3",children:[s.post&&Object(u.jsxs)("p",{children:[" ",Object(u.jsx)(P.a,{text:s.post,length:270,showMoreLabel:" See more",showLessLabel:" See less",tag:"a",className:"text-dark",ellipsis:"...",style:{cursor:"pointer",color:"blue",fontWeight:"bold",textDecoration:"none"},enabled:!0})]}),s.image&&Object(u.jsx)("img",{src:s.image,alt:s.name,width:"100%",className:"px-2",style:{objectFit:"contain"}})]}),Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline px-3 px-sm-4 mt-2 postreactcount",children:[Object(u.jsxs)("a",{role:"button",onClick:function(e){return function(e){I(!S);var t=e.target.dataset.postId;R("like"),q(t)}(e)},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#modal".concat(s._id),className:"text-muted ",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up text-primary pe-2",style:{pointerEvents:"none"}}),"".concat(s.reactions.likes.liker.length)]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("a",{role:"button",onClick:function(e){return H(e.target.dataset.postId,"false")},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#comment".concat(s._id),className:"text-muted",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"pe-1 pe-sm-2",style:{pointerEvents:"none"},children:"".concat(s.reactions.comments.commentators.length)}),"Comment"]}),Object(u.jsxs)("a",{href:"",className:"text-muted ms-2",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"pe-0 pe-sm-1",children:"1k"})," shares"]})]})]}),Object(u.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"}),Object(u.jsxs)("div",{className:"d-flex justify-content-around postreact",children:[s.reactions.likes.liker.find((function(e){return e===c._id}))?Object(u.jsxs)("button",{id:"unlikebtn".concat(s._id),"data-post-id":s._id,onClick:function(e){return W(e)},className:"btn text-primary",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up-fill pe-2",style:{pointerEvents:"none"}})," Liked"]}):Object(u.jsxs)("button",{onClick:function(e){return F(e)},id:"likebtn".concat(s._id),"data-post-id":s._id,className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up pe-2",style:{pointerEvents:"none"}})," Like"]}),Object(u.jsxs)("button",{onClick:function(e){return H(e.target.dataset.postId,"false")},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#comment".concat(s._id),className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-chat pe-2"})," Comment"]}),Object(u.jsxs)("button",{className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-share pe-2"})," Share"]})]})]}),Object(u.jsx)("div",{class:"modal fade",id:"del".concat(s._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"del".concat(s._id,"Label"),"aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsx)("h3",{class:"modal-title",children:"Confirmation"})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("p",{className:"ps-3",children:"Are you sure to delete this post?"})}),Object(u.jsxs)("div",{class:"modal-footer",children:[Object(u.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"button",class:"btn btn-danger","data-post-id":s._id,onClick:function(e){return M(e)},children:"Delete"})]})]})})}),Object(u.jsx)("div",{class:"modal fade",id:"modal".concat(s._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modal".concat(s._id,"Label"),"aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsxs)("h3",{class:"modal-title",children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up-fill text-primaty me-2"}),s.reactions.likes.liker.length]})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:function(){return _([])},"aria-label":"Close"})]}),w.length>0?w[0].user.map((function(e){return Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("div",{className:"row row-cols-1 w-50",children:Object(u.jsxs)("div",{className:"col d-flex justify-content-evenly text-primary",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),Object(u.jsx)("p",{className:"text-dark",children:e.name})]})})})})):Object(u.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(u.jsx)("p",{className:"text-center",id:"like".concat(s._id),role:"status",children:"not found"})})]})})}),Object(u.jsx)("div",{class:"modal fade",id:"comment".concat(s._id),"data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"comment".concat(s._id,"Label"),"aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsxs)("h3",{class:"modal-title text-primary",children:[Object(u.jsx)("span",{className:"bi bi-chat-fill text-primaty me-2"}),null===(t=B[0])||void 0===t?void 0:t.commentators.length]})}),Object(u.jsx)("button",{type:"button",class:"btn-close",onClick:function(){return E([])},"data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body px-3 ",children:B.length>0?B[0].commentators.map((function(e){return Object(u.jsxs)("div",{className:"row w-75 mb-3",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("img",{src:B[0].user[B[0].user.findIndex((function(t){return t._id===e.user_id}))].image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}})}),Object(u.jsxs)("div",{className:"col-9 bg-light rounded",children:[Object(u.jsx)(i.b,{role:"button",to:"/profile?id=".concat(e.user_id),target:"_blank",style:{textDecoration:"none",fontWeight:"bold"},className:"text-dark",children:B[0].user[B[0].user.findIndex((function(t){return t._id===e.user_id}))].name}),Object(u.jsx)("p",{children:e.comment})]}),Object(u.jsx)("div",{className:"col-12 ",children:Object(u.jsx)("p",{className:"text-muted text-end",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})):Object(u.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(u.jsx)("p",{id:"loadcomment".concat(s._id),children:"no comments found"})})}),Object(u.jsx)("div",{className:"modal-footer justify-content-center",children:Object(u.jsx)("form",{className:"w-100",onSubmit:function(e){return G(e)},"data-post-id":s._id,children:Object(u.jsxs)("div",{className:"row w-100 m-0",children:[Object(u.jsx)("div",{className:"col-6 col-sm-8 p-0 pe-2 ",children:Object(u.jsx)("input",{type:"text",placeholder:"write a comment...",className:"form-control",value:b,onChange:function(e){return m(e.target.value)}})}),Object(u.jsx)("div",{className:"col-6 col-sm-4 p-0",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-md btn-primary ",id:"commentbtn".concat(s._id),children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-sm me-2 d-none",id:"spinner".concat(s._id)}),"Comment"]})})]})})})]})})})]},s._id)},B=function(e){var t=e.currentUser,s=Object(a.useContext)(h),c=s.postState,n=s.isCreatedPostState,l=Object(r.a)(n,2),i=(l[0],l[1]),d=Object(r.a)(c,1)[0],m=Object(a.useState)(""),p=Object(r.a)(m,2),O=p[0],f=p[1],v=Object(a.useRef)(null),g=Object(a.useRef)(null),N=Object(a.useState)(""),y=Object(r.a)(N,2),k=y[0],w=y[1],_=Object(b.a)(d);_.reverse();var C=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a=s.target.elements.imagepost.files.length,c=s.target.elements.status.value,!(a<=0&&""===c)){e.next=7;break}alert("Please write something or upload a photo"),e.next=27;break;case 7:return e.prev=7,v.current.setAttribute("disabled","true"),g.current.classList.remove("d-none"),n={_id:t._id,name:t.name,image:t.image,post:O,time:new Date},Object(L.a)(n,"image",k),Object(L.a)(n,"user_image",t.image),Object(L.a)(n,"clearance","public"),l=n,r={headers:{"Content-Type":"application/json"}},e.next=14,x.post("/newpost",l,r);case 14:i(["new post"]),f(""),w(""),s.target.elements.imagepost.value="",v.current.removeAttribute("disabled"),g.current.classList.add("d-none"),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(7),v.current.removeAttribute("disabled"),g.current.classList.add("d-none"),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[7,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("section",{className:"feed-container",children:Object(u.jsxs)("div",{className:"row feedrow gy-2 gy-sm-4 px-0 px-sm-3 ps-lg-5",children:[Object(u.jsx)("div",{className:"col-12 bg-white rounded p-0 p-sm-2 mt-3 mt-sm-5 border",children:Object(u.jsxs)("div",{className:"row gy-3 gy-sm-3 p-0 ps-sm-5 pt-3 w-100 m-0 justify-content-center align-items-center pe-1 pe-sm-3",children:[Object(u.jsx)("div",{className:"col-12 d-flex align-items-center justify-content-center pe-0 me-2",children:Object(u.jsxs)("div",{className:"d-flex justify-content-evenly",style:{width:"85%"},children:[t.image?Object(u.jsx)("img",{src:t.image,className:"postimg rounded-pill",alt:""}):Object(u.jsx)("span",{className:"bi bi-person-circle ps-2",style:{fontSize:"1.5rem"}}),Object(u.jsx)("div",{className:"bg-light statuscol border",children:Object(u.jsx)("form",{action:"",className:"h-100",children:Object(u.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#createpost",placeholder:"What's on your mind, ".concat(t.name,"?"),className:"form-control statusinp bg-light",disabled:!0})})})]})}),Object(u.jsx)("hr",{className:"mb-1 w-75 w-sm-100"}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center pb-3",children:[Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-camera-reels-fill text-danger pe-2"})," Live Video"]}),Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-images text-success pe-2"})," Photo / Video"]}),Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-emoji-smile text-warning pe-2"})," Feeling activity"]})]})}),Object(u.jsx)("div",{class:"modal fade",id:"createpost","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"createpostLabel","aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsx)("h3",{class:"modal-title",children:"Create your post."})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("form",{action:"#",className:"needs-validation",onSubmit:function(e){return C(e)},id:"signform",children:Object(u.jsxs)("div",{className:"row gy-2 gx-2 px-0 px-sm-3",children:[Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("textarea",{name:"status",className:"form-control postinp",placeholder:"Whats on yout mind, ".concat(t.name,"?"),id:"status",value:O,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("div",{className:"p-3",children:Object(u.jsx)("img",{src:k,alt:"",style:{maxHeight:"150px",maxWidth:"30%"}})}),Object(u.jsx)("label",{htmlFor:"imagepost mt-2",children:"Upload a photo: "}),Object(u.jsx)("input",{type:"file",id:"imagepost",accept:"img/**",className:"form-control",onChange:function(e){return function(e){if(!(e.target.files.length>0))return null;var t=new FileReader;t.onload=function(e){w(e.target.result)},t.readAsDataURL(e.target.files[0])}(e)}})]}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("button",{type:"submit",ref:v,className:"btn btn-primary w-100",children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-sm me-2 d-none",ref:g}),"Post"]})})]})})})]})})})]})}),_.length>0?_.map((function(e){return Object(u.jsx)(D,{i:e,currentUser:t,setIsCreatedPost:i})})):Object(u.jsx)("div",{className:"col-12 bg-white border rounded p-2",children:Object(u.jsx)("div",{className:"",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("h4",{className:"text-center",children:"No more posts"}),Object(u.jsx)("p",{className:"px-1 text-center",children:"Add more friends to see more posts in your News Feed."}),Object(u.jsx)("button",{className:"btn btn-primary",children:"Add friend"})]})})})]})})},E=function(e){var t=e.currentUser,s=Object(N.f)().search.toString().replace("?id=",""),c=Object(a.useState)(""),n=Object(r.a)(c,2),l=n[0],d=n[1],b=Object(a.useState)([]),m=Object(r.a)(b,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(r.a)(O,2),v=f[0],g=f[1],y=Object(a.useContext)(A),w=y.likerState,_=y.postidState,C=y.commentsState,S=y.reqtypeState,I=y.newCommentState,P=y.reqAgainState,D=Object(r.a)(w,2),B=D[0],E=D[1],T=Object(r.a)(P,2),z=T[0],U=T[1],R=Object(r.a)(C,2),q=R[0],F=(R[1],Object(r.a)(I,2)),W=F[0],H=F[1],G=Object(r.a)(S,1)[0],M=Object(r.a)(_,1)[0],V=Object(a.useState)([]),J=Object(r.a)(V,2),Y=J[0],K=J[1],Z=Object(a.useRef)(null),Q=Object(a.useRef)(null),X=Object(a.useRef)(null),$=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,X.current&&X.current.classList.remove("d-none"),Q.current&&(Q.current.innerText="Loading post..."),s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t)}},e.next=6,x.get("/post",s);case 6:a=e.sent,p([a.data]),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),X.current&&X.current.classList.add("d-none"),Q.current&&(Q.current.innerText="No Post Found!"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),a=document.getElementById(s.target.id),e.prev=2,a.setAttribute("disabled","true"),c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.dataset.postId)}},e.next=7,x.put("/likepost",{user_id:t._id},c);case 7:n=e.sent,console.log(n),$(s.target.dataset.postId),a.removeAttribute("disabled"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),a.removeAttribute("disabled"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById(s.target.id),s.preventDefault(),e.prev=2,a.setAttribute("disabled","true"),c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.dataset.postId)}},e.next=7,x.put("/unlikepost",{user_id:t._id},c);case 7:n=e.sent,console.log(n),$(s.target.dataset.postId),a.removeAttribute("disabled"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),a.removeAttribute("disabled"),console.log(e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=4,x.delete("/deletepost",s);case 4:window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(e,t){U(!z);var s=e;G("comment"),M(s),"true"===t&&H(!W)},ce=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a=document.getElementById(s.target.dataset.btnId),c=document.getElementById(s.target.dataset.spinnerId),""!==v){e.next=6;break}return alert("Please write a comment"),e.abrupt("return",!1);case 6:return e.prev=6,a.setAttribute("disabled","true"),c.classList.remove("d-none"),n={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.dataset.postId)}},l={comment:v,time:new Date,user_id:t._id},e.next=13,x.put("/comment",l,n);case 13:ae(s.target.dataset.postId,"true"),g(""),a.removeAttribute("disabled"),c.classList.add("d-none"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(6),a.removeAttribute("disabled"),c.classList.add("d-none"),console.log(e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d(s),ae(s,"false")}),[s]),Object(a.useEffect)((function(){l&&$(l)}),[l]),Object(a.useEffect)((function(){if(h.length>0){var e=h[0].post;K([e])}else console.log(h.length)}),[h]),Object(u.jsx)("div",{className:"row row-cols-1 mt-2",children:Y.length>0?Y.map((function(e){var s;return Object(u.jsxs)("div",{className:"col bg-white border rounded p-2",id:"post".concat(e._id),children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between py-1 px-1 px-sm-3",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[(null===(s=h[0])||void 0===s?void 0:s.user.image)?Object(u.jsx)("img",Object(L.a)({src:h[0].user.image,alt:"Name",className:"rounded-pill statusimg me-2"},"alt",h[0].user.name)):Object(u.jsx)("span",{className:"bi bi-person-circle pe-3",style:{fontSize:"1.5rem"}}),Object(u.jsxs)("div",{className:" text-start",children:[Object(u.jsx)(i.b,{to:"/profile?id=".concat(e.user_id),className:"mt-1 text-dark",style:{textDecoration:"none"},children:h[0].user.name}),Object(u.jsx)("p",{className:"text-muted text-start",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:e.time})})]})]}),Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsx)("a",{className:"btn",style:{padding:"0",height:"24px"},role:"button",id:"".concat(e._id,"drop"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(u.jsx)("span",{className:"bi bi-justify"})}),Object(u.jsx)("ul",{class:"dropdown-menu","aria-labelledby":"".concat(e._id,"drop"),children:e.user_id===t._id?Object(u.jsx)("li",{className:"dropdown-item ",children:Object(u.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-bs-toggle":"modal","data-bs-target":"#del".concat(e._id),children:"Delete"})}):null})]})]}),Object(u.jsxs)("div",{className:"px-3",children:[e.post&&Object(u.jsx)("p",{className:"px-1",children:e.post}),e.image&&Object(u.jsx)("img",{src:e.image,alt:e.name,width:"100%",className:"px-2",style:{objectFit:"contain"}})]}),Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline px-3 px-sm-4 mt-2 postreactcount",children:[Object(u.jsxs)("a",{role:"button",onClick:function(e){return function(e){U(!z);var t=e.target.dataset.postId;G("like"),M(t)}(e)},"data-post-id":e._id,"data-bs-toggle":"modal","data-bs-target":"#modal".concat(e._id),className:"text-muted ",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up text-primary pe-2",style:{pointerEvents:"none"}}),e.reactions.likes.liker.length]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("a",{role:"button",className:"text-muted",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"pe-0 pe-sm-2",children:e.reactions.comments.commentators.length})," Comment"]}),Object(u.jsxs)("a",{href:"",className:"text-muted ms-2",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"pe-0 pe-sm-1",children:"1k"})," shares"]})]})]}),Object(u.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"}),Object(u.jsxs)("div",{className:"d-flex justify-content-around postreact",children:[e.reactions.likes.liker.find((function(e){return e===t._id}))?Object(u.jsxs)("button",{"data-post-id":e._id,onClick:function(e){return te(e)},id:"unlike".concat(e._id),className:"btn text-primary",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up-fill pe-2"})," Liked"]}):Object(u.jsxs)("button",{onClick:function(e){return ee(e)},id:"like".concat(e._id),"data-post-id":e._id,className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up pe-2"})," Like"]}),Object(u.jsxs)("button",{"data-post-id":e._id,onClick:function(){return Z.current.focus()},className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-chat pe-2"})," Comment"]}),Object(u.jsxs)("button",{className:"btn text-dark",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{className:"bi bi-share pe-2"})," Share"]})]}),Object(u.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"})]}),Object(u.jsxs)("div",{className:"comment px-3 mt-4",children:[q.length>0?q[0].commentators.map((function(e){return Object(u.jsxs)("div",{className:"row w-75 mb-3",children:[Object(u.jsxs)("div",{className:"col-12 d-flex flex-row justify-content-start",children:[q[0].user[q[0].user.findIndex((function(t){return t._id===e.user_id}))].image&&Object(u.jsx)("img",{src:q[0].user[q[0].user.findIndex((function(t){return t._id===e.user_id}))].image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),!q[0].user[q[0].user.findIndex((function(t){return t._id===e.user_id}))].image&&Object(u.jsx)("span",{className:"bi bi-person-circle",style:{fontSize:"1.5rem"}}),Object(u.jsx)("div",{className:"ms-3 px-2 rounded",children:Object(u.jsxs)("div",{className:"bg-light p-2 rounded",children:[Object(u.jsx)(i.b,{role:"button",to:"/profile?id=".concat(e.user_id),target:"_blank",style:{textDecoration:"none",fontWeight:"bold"},className:"text-dark",children:q[0].user[q[0].user.findIndex((function(t){return t._id===e.user_id}))].name}),Object(u.jsx)("p",{children:e.comment})]})})]}),Object(u.jsx)("div",{className:"col-12 d-flex justify-content-start",style:{fontSize:".75rem"},children:Object(u.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center",style:{minWidth:"226px"},children:[Object(u.jsx)("p",{className:"text-muted text-start p-0 m-0",children:Object(u.jsx)(k.a,{fromNow:!0,interval:1e3,children:e.time})}),Object(u.jsx)("button",{className:"btn",style:{fontSize:".75rem"},href:"#",children:"like"}),Object(u.jsx)("button",{className:"btn",style:{fontSize:".75rem"},href:"#",children:"delete"})]})})]})})):Object(u.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(u.jsx)("p",{id:"loadcomment".concat(e._id),children:"no comments found"})}),Object(u.jsx)("div",{className:"modal-footer justify-content-center",children:Object(u.jsx)("form",{className:"w-100",onSubmit:function(e){return ce(e)},"data-btn-id":"commentbtn".concat(e._id),"data-spinner-id":"spinner".concat(e._id),"data-post-id":e._id,children:Object(u.jsxs)("div",{className:"row w-100",children:[Object(u.jsx)("div",{className:"col-9",children:Object(u.jsx)("input",{type:"text",ref:Z,placeholder:"write a comment...",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})}),Object(u.jsx)("div",{className:"col-3",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-md btn-primary ",id:"commentbtn".concat(e._id),children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-sm me-2 d-none",id:"spinner".concat(e._id)}),"Comment"]})})]})})})]}),Object(u.jsx)("div",{class:"modal fade",id:"modal".concat(e._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modal".concat(e._id,"Label"),"aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsx)("h3",{class:"modal-title",children:Object(u.jsx)("span",{className:"bi bi-hand-thumbs-up-fill text-primaty me-2"})})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:function(){return E([])},"aria-label":"Close"})]}),B.length>0?B[0].user.map((function(e){return Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("div",{className:"row row-cols-1 w-50",children:Object(u.jsxs)("div",{className:"col d-flex justify-content-evenly text-primary",children:[Object(u.jsx)("img",{src:e.image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),Object(u.jsx)("p",{className:"text-dark",children:e.name})]})})})})):Object(u.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(u.jsx)("p",{className:"text-center",id:"like".concat(e._id),role:"status",children:"not found"})})]})})}),Object(u.jsx)("div",{class:"modal fade",id:"del".concat(e._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"del".concat(e._id,"Label"),"aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsx)("h3",{class:"modal-title",children:"Confirmation"})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("p",{className:"ps-3",children:"Are you sure to delete this post?"})}),Object(u.jsxs)("div",{class:"modal-footer",children:[Object(u.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"button",class:"btn btn-danger","data-post-id":e._id,onClick:function(e){return se(e)},children:"Delete"})]})]})})})]},e._id)})):Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-sm me-2",ref:X}),Object(u.jsx)("span",{ref:Q,children:"Loading post..."})]})})})},T=(s(101),function(e){var t=e.currentUser,s=Object(a.useState)(Boolean),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useState)(""),d=Object(r.a)(i,2),m=d[0],h=d[1],p=Object(a.useState)([]),O=Object(r.a)(p,2),f=O[0],v=O[1],g=Object(a.useState)([]),y=Object(r.a)(g,2),k=y[0],w=y[1],_=Object(a.useRef)(null),C=Object(a.useRef)(null),S=Object(a.useRef)(null),L=Object(a.useRef)(null),A=Object(a.useRef)(null),I=Object(a.useRef)(null),P=Object(a.useRef)(null),B=Object(N.f)().search.toString().replace("?id=",""),E=Object(a.useState)(""),T=Object(r.a)(E,2),z=T[0],U=T[1],R=Object(b.a)(f);R.reverse();var q=[];k.length&&(q=Object(b.a)(k[0].album)).reverse();var F=function(e){if(e.target.files.length>0){var t=new FileReader;t.onload=function(e){h(e.target.result)},t.readAsDataURL(e.target.files[0]),_.current.removeAttribute("disabled"),S.current.removeAttribute("disabled")}},W=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,S.current.setAttribute("disabled","true"),P.current.classList.remove("d-none"),a={cover_img:m},c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t._id)}},e.next=8,x.put("/updateuserprofile",a,c);case 8:n=e.sent,console.log(n),window.location.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(o.a.mark((function e(s){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,_.current.setAttribute("disabled","true"),C.current.classList.remove("d-none"),a={profile_img:m},c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t._id)}},e.next=8,x.put("/updateuserprofile",a,c);case 8:n=e.sent,console.log(n),window.location.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(o.a.mark((function e(s){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I.current.classList.remove("d-none"),I.current.classList.add("loading"),L.current.classList.remove("d-none"),A.current.innerText="Loading Posts...",s===t._id?l(!0):l(!1),e.next=9,x.get("/profile",{headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s)}});case 9:a=e.sent,v(Object(b.a)(a.data.userPosts)),w(Object(b.a)(a.data.user)),I.current.classList.add("d-none"),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(0),I.current.classList.remove("loading"),I.current.innerText="loading failed!",L.current.classList.add("d-none"),A.current.innerText="No Post Found!",console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){G(z)}),[z]),Object(a.useEffect)((function(){U(B)}),[B]),Object(u.jsxs)("div",{className:"profile-container",children:[Object(u.jsxs)("div",{className:"row gy-sm-5 cover-container border-bottom bg-white w-100 m-0 p-0 ",children:[Object(u.jsx)("div",{className:"d-none ",ref:I}),k.length>0?Object(u.jsxs)("div",{className:"col-12 profile-cover mt-0 border",children:[Object(u.jsx)("img",{src:k[0].cover_img,className:"rounded",alt:""}),Object(u.jsxs)("div",{className:"profile-cover-main d-flex justify-content-center w-100",children:[Object(u.jsx)("img",{src:k[0].cover_img,className:"rounded",alt:t.name}),n&&Object(u.jsx)("div",{className:"position-absolute d-flex justify-content-center w-100",style:{bottom:"0",zIndex:"100"},children:Object(u.jsx)("div",{className:"d-flex justify-content-end",style:{width:"90%"},children:Object(u.jsxs)("button",{type:"button",class:"btn btn-secondary ","data-bs-toggle":"modal","data-bs-target":"#changeCover",children:[Object(u.jsx)("span",{className:"bi bi-camera me-1"}),Object(u.jsx)("span",{className:"d-none d-sm-inline-block",children:"Change Cover"})]})})})]}),Object(u.jsxs)("div",{className:"cover-bottom d-flex flex-column justify-content-center w-100",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-center w-100 position-relative",children:[Object(u.jsx)("div",{className:"profile-img rounded-pill bg-white",children:k.length>0?k[0].profile_img?Object(u.jsx)("img",{src:k[0].profile_img,className:"rounded-pill",alt:""}):Object(u.jsx)("span",{className:"bi bi-person-circle"}):null}),n&&Object(u.jsx)("div",{className:"position-absolute d-flex justify-content-end",style:{bottom:"0",width:"110px",zIndex:"100"},children:Object(u.jsx)("button",{type:"button",class:"btn btn-secondary bi bi-camera rounded-pill","data-bs-toggle":"modal","data-bs-target":"#changeProfile"})})]}),Object(u.jsxs)("div",{className:"pt-2",children:[Object(u.jsx)("h3",{className:"text-center",children:k[0].name}),Object(u.jsx)("p",{className:"text-muted text-center",children:"Your Bio"})]})]})]}):null,Object(u.jsx)("div",{className:"col-12 d-flex justify-content-center pt-5 mt-3 mt-sm-5",children:Object(u.jsx)("div",{className:"profile-nav pt-5",children:Object(u.jsxs)("ul",{className:"navbar border-top pt-3",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{href:"",className:"nav-link",children:"Home"})})]})})})]}),Object(u.jsx)("div",{class:"modal fade",id:"changeCover","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeCoverLabel","aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:"Change your cover picture"}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsxs)("div",{class:"modal-body",children:[Object(u.jsx)("form",{action:"",id:"changeCoverPic",onSubmit:function(e){return W(e)},children:Object(u.jsx)("input",{type:"file",className:"form-control",onChange:function(e){return F(e)},placeholder:"Change Profile Picture"})}),Object(u.jsx)("div",{className:"p-3",children:Object(u.jsx)("img",{src:m,alt:"",style:{maxHeight:"250px",maxWidth:"100%"}})})]}),Object(u.jsx)("div",{class:"modal-footer",children:Object(u.jsxs)("button",{type:"submit",ref:S,form:"changeCoverPic",disabled:!0,className:"btn btn-primary",children:[Object(u.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:P,role:"status","aria-hidden":"true"}),"Change Cover Picture"]})})]})})}),Object(u.jsx)("div",{class:"modal fade",id:"changeProfile","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeProfileLabel","aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:"Change your profile picture"}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsxs)("div",{class:"modal-body",children:[Object(u.jsx)("form",{action:"",id:"changeProfilePic",onSubmit:function(e){return H(e)},children:Object(u.jsx)("input",{type:"file",className:"form-control",onChange:function(e){return F(e)},placeholder:"Change Profile Picture"})}),Object(u.jsx)("div",{className:"p-3",children:Object(u.jsx)("img",{src:m,alt:"",style:{maxHeight:"250px",maxWidth:"100%"}})})]}),Object(u.jsx)("div",{class:"modal-footer",children:Object(u.jsxs)("button",{type:"submit",ref:_,form:"changeProfilePic",disabled:!0,className:"btn btn-primary",children:[Object(u.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:C,role:"status","aria-hidden":"true"}),"Change Profile Picture"]})})]})})}),Object(u.jsx)("div",{className:"bottom-container d-flex justify-content-center px-sm-5 px-md-5 py-2",children:Object(u.jsxs)("div",{className:"row row-cols-1 row-cols-md-2 gy-2 gy-md-0 mt-lg-3 px-sm-3 px-md-5 bottom-row gx-4",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"row row-cols-1 gy-3 bottom-left",children:[n&&Object(u.jsxs)("div",{className:"col px-3 py-3 bg-white border rounded",children:[Object(u.jsx)("h3",{children:Object(u.jsx)("b",{children:"Your Profile"})}),Object(u.jsx)("p",{className:"text-muted px-2",children:"Add details to connect with more friends and help them to get to know you better."}),Object(u.jsx)("button",{className:"btn btn-primary w-100",children:" Get Started "})]}),n&&Object(u.jsxs)("div",{className:"col p-3 bg-white border rounded",children:[Object(u.jsx)("h3",{children:Object(u.jsx)("b",{children:"Intro"})}),Object(u.jsx)("button",{className:"btn btn-light w-100 mt-2 mb-3",children:" Edit Details "}),Object(u.jsx)("button",{className:"btn btn-light w-100 mb-3",children:" Add Hobbies "}),Object(u.jsx)("button",{className:"btn btn-light w-100 mb-3",children:" Add Features "})]}),Object(u.jsxs)("div",{className:"col bg-white border rounded p-3",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsx)("h5",{children:"Photos"}),Object(u.jsx)("a",{href:"#",children:"See All"})]}),q.length&&Object(u.jsxs)("div",{className:"row row-cols-2 gx-3 gy-2",children:[Object(u.jsx)("div",{className:"col p-1",children:Object(u.jsx)("div",{className:"border",children:Object(u.jsx)("img",{src:q[0],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(u.jsx)("div",{className:"col p-1",children:Object(u.jsx)("div",{className:"border",children:Object(u.jsx)("img",{src:q[1],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(u.jsx)("div",{className:"col p-1",children:Object(u.jsx)("div",{className:"border",children:Object(u.jsx)("img",{src:q[2],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(u.jsx)("div",{className:"col p-1",children:Object(u.jsx)("div",{className:"border",children:Object(u.jsx)("img",{src:q[3],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})})]})]}),Object(u.jsx)("div",{className:"col bg-white border rounded p-3",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsx)("h5",{children:"Friends"}),Object(u.jsx)("a",{href:"#",children:"See All"})]})})]})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsxs)("div",{className:"row row-cols-1 gy-4",children:[Object(u.jsx)("div",{className:"col bg-white border rounded",children:Object(u.jsxs)("div",{className:"row justify-content-center align-items-center",children:[n?Object(u.jsx)("div",{className:"col-3 pt-3 pb-3",children:t.image?Object(u.jsx)("img",{src:t.image,className:"postimg rounded-pill",alt:t.name}):Object(u.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}})}):Object(u.jsx)("div",{className:"col-3 pt-3 pb-3",children:k.length&&k[0].profile_img?Object(u.jsx)("img",{src:k[0].profile_img,className:"postimg rounded-pill",alt:k[0].name}):Object(u.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}})}),n?Object(u.jsx)("div",{className:"col-9 pe-5 pt-3 pb-3",children:Object(u.jsx)("div",{className:"bg-light statuscol border",children:Object(u.jsx)("form",{action:"",children:Object(u.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#profcreatepost",placeholder:"What's on your mind, ".concat(t.name,"?"),className:"form-control profstatusinp bg-light",disabled:!0})})})}):Object(u.jsx)("div",{className:"col-9 pe-5 pt-3 pb-3",children:Object(u.jsx)("div",{className:"bg-light statuscol border",children:Object(u.jsx)("form",{action:"",children:k.length&&Object(u.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#profcreatepost",placeholder:"Post on ".concat(k[0].name,"'s timeline'"),className:"form-control profstatusinp bg-light",disabled:!0})})})}),Object(u.jsx)("hr",{className:"mb-1 w-75 w-sm-100"}),Object(u.jsx)("div",{className:"col-12 py-2 px-3",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3",children:[Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-camera-reels-fill text-danger pe-2"})," Live Video"]}),Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-images text-success pe-2"})," Photo / Video"]}),Object(u.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(u.jsx)("span",{className:"bi bi-emoji-smile text-warning pe-2"})," Feeling activity"]})]})}),Object(u.jsx)("div",{class:"modal fade",id:"profcreatepost","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"profcreatepostLabel","aria-hidden":"true",children:Object(u.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(u.jsxs)("div",{class:"modal-content",children:[Object(u.jsxs)("div",{class:"modal-header",children:[Object(u.jsx)("div",{className:"modal-title",children:Object(u.jsx)("h3",{class:"modal-title",children:"Create your post."})}),Object(u.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{class:"modal-body px-1 ",children:Object(u.jsx)("form",{action:"#",className:"needs-validation",onSubmit:"{e => handlePostForm(e)}",id:"signform",children:Object(u.jsxs)("div",{className:"row gy-2 gx-2 px-0 px-sm-3",children:[Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("textarea",{name:"status",className:"form-control postinp",placeholder:"Whats on yout mind, ".concat(t.name,"?"),id:"status",value:"{userPost}",onChange:"{e => setUserPost(e.target.value)}",required:!0}),Object(u.jsx)("label",{htmlFor:"imagepost mt-2",children:"Upload a photo: "}),Object(u.jsx)("input",{type:"file",id:"imagepost",accept:"img/**",className:"form-control",onChange:"{e => setimage(e)}"})]}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})})]})})})]})}),R.length>0?R.map((function(e){return Object(u.jsx)(D,{i:e,currentUser:t})})):Object(u.jsx)("div",{className:"col-12 bg-white border rounded p-2",children:Object(u.jsx)("div",{className:"",children:Object(u.jsx)("div",{className:"text-center",children:Object(u.jsxs)("h4",{className:"text-center",children:[Object(u.jsx)("span",{className:"spinner-border spinner-border-md me-2",ref:L}),Object(u.jsx)("span",{ref:A})]})})})})]})})]})})]})}),z=(s(102),function(){return Object(u.jsxs)("section",{className:"rightbar-container position-absolute px-3",children:[Object(u.jsx)("h4",{children:"Group conversations"}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"bi bi-plus me-2 bg-light border p-1 rounded-pill"})," Create New Group"]})})]})}),U=function(e){var t=e.currentUser;return Object(u.jsxs)("div",{className:"",style:{backgroundColor:"#f0f2f5"},children:[Object(u.jsx)(C,{currentUser:t}),Object(u.jsxs)(N.c,{children:[Object(u.jsx)(N.a,{exact:!0,path:"/",children:Object(u.jsxs)("div",{className:"row position-relative gx-0 px-3 px-md-0 gx-md-4 gx-lg-0",children:[Object(u.jsx)("div",{className:"col-xl-3 position-sticky leftcol d-none d-xl-block",children:Object(u.jsx)(S,{currentUser:t})}),Object(u.jsx)("div",{className:"col-12 col-md-7 col-lg-8 col-xl-6",children:Object(u.jsx)(B,{currentUser:t})}),Object(u.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 d-none d-md-block position-sticky rightcol",children:Object(u.jsx)(z,{})})]})}),Object(u.jsx)(N.a,{path:"/profile",children:Object(u.jsx)(T,{currentUser:t})}),Object(u.jsx)(N.a,{path:"/post",children:Object(u.jsx)("div",{className:"row position-relative justify-content-center gx-0 px-3 px-md-0 gx-md-4 gx-lg-0",children:Object(u.jsx)("div",{className:"col-12 col-md-7 col-lg-8 col-xl-6",children:Object(u.jsx)(E,{currentUser:t})})})})]})]})};s(103);var R=function(){var e=Object(a.useContext)(h).loggeduserState,t=Object(r.a)(e,1)[0];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{id:"App"}),Object(u.jsx)("div",{className:"d-none",id:"main",children:t.length>0?Object(u.jsx)("div",{children:Object(u.jsx)(U,{currentUser:t[0]})}):Object(u.jsx)(g,{})})]})},q=(s(104),Object(a.createContext)()),F=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1];return Object(u.jsx)(q.Provider,{value:[n,l],children:t})};l.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(I,{children:Object(u.jsx)(O,{children:Object(u.jsx)(f,{children:Object(u.jsx)(F,{children:Object(u.jsx)(R,{})})})})})})}),document.getElementById("root"))},37:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){}},[[105,1,2]]]);
//# sourceMappingURL=main.0cae950a.chunk.js.map