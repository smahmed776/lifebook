(this.webpackJsonplifebook=this.webpackJsonplifebook||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},104:function(e,t,s){},105:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(38),l=s.n(n),i=s(6),r=(s(47),s(48),s(69),s(2)),o=s(3),d=s.n(o),j=s(8),b=s(4),m=s(39),x=s.n(m).a.create({baseURL:"https://mern-lifebook-github.herokuapp.com/api/v1/auth/",withCredentials:!0,credentials:"include"}),h=s(0),u=Object(a.createContext)(),p=Object(a.createContext)(),O=function(e){var t=e.children,s=[localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):""],c=Object(a.useState)([]),n=Object(r.a)(c,2),l=n[0],i=n[1],o=Object(a.useState)([]),m=Object(r.a)(o,2),p=m[0],O=m[1],f=Object(a.useState)(s),v=Object(r.a)(f,2),g=v[0],N=v[1],y=Object(a.useState)([]),w=Object(r.a)(y,2),k=w[0],C=w[1],_=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,document.getElementById("App").classList.add("loading"),e.next=4,x.get("/user",{headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t)}});case 4:s=e.sent,O([s.data.user]),i(Object(j.a)(s.data.getPosts)),(a=document.getElementById("App"))&&(a.classList.remove("loading"),document.getElementById("main").classList.remove("d-none")),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),(c=document.getElementById("App"))&&c.classList.remove("loading"),(n=document.getElementById("main"))&&n.classList.remove("d-none"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(g.length>0){var e=g[0];_(e)}}),[g]),Object(a.useEffect)((function(){if(g.length>0){var e=g[0];_(e)}}),[k]),Object(h.jsx)(u.Provider,{value:{isLoggedState:[g,N],loggeduserState:[p,O],postState:[l,i],isCreatedPostState:[k,C]},children:t})},f=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useContext)(u).loggeduserState,o=Object(r.a)(i,1)[0],j=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/notification",{headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(o[0]._id)}});case 3:t=e.sent,l([t.data]),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o.length>0&&j()}),[o]),Object(h.jsx)(p.Provider,{value:[n,l],children:t})},v=(s(91),function(){return Object(h.jsx)("div",{className:"bg-white",children:Object(h.jsx)("div",{className:"container px-5",children:Object(h.jsxs)("div",{className:"row row-cols-1",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("ul",{className:"nav",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"English"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u09ac\u09be\u0982\u09b2\u09be"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0939\u093f\u0928\u094d\u0926\u0940 "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0928\u0947\u092a\u093e\u0932\u0940 "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Bahasa Indonesia "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629 "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"\u4e2d\u6587(\u7b80\u4f53) "})})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("ul",{className:"nav",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Sign Up"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Log In"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Messenger"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Facebook Lite "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Watch "})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Places"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Games"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"#",className:"nav-link footer-link",children:"Marketplace"})})]})})]})})})}),g=function(){var e=Object(a.useContext)(u).isLoggedState,t=Object(r.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(""),l=Object(r.a)(n,2),i=l[0],o=l[1],m=Object(a.useState)(""),p=Object(r.a)(m,2),O=p[0],f=p[1],g=Object(a.useState)(""),N=Object(r.a)(g,2),y=N[0],w=N[1],k=Object(a.useState)(""),C=Object(r.a)(k,2),_=C[0],S=C[1],L=Object(a.useState)(""),A=Object(r.a)(L,2),P=A[0],D=A[1],I=Object(a.useRef)(null),B=Object(a.useRef)(null),T=Object(a.useRef)(null),z=Object(a.useRef)(null),E=Object(a.useRef)(null),U=Object(a.useRef)(null),q=Object(a.useRef)(null),F=Object(a.useRef)(null),R=Object(a.useRef)(null),H=function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n,l,i,r,o,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=34;break;case 6:return e.prev=6,T.current.setAttribute("disabled","true"),B.current.classList.remove("d-none"),a=t.target.elements.lemail.value,n=t.target.elements.lpassword.value,l={email:a,password:n},i={headers:{"Content-Type":"application/json"}},e.next=15,x.post("/login",l,i);case 15:r=e.sent,o=r.data.token,s.push([o]),c(Object(j.a)(s)),localStorage.setItem("token",JSON.stringify(o)),U.current.classList.remove("d-none"),setTimeout((function(){U.current.classList.add("d-none")}),3e3),window.location.reload(),e.next=34;break;case 25:e.prev=25,e.t0=e.catch(6),console.log(e.t0.response),b=document.getElementById("halert"),B.current.classList.add("d-none"),T.current.removeAttribute("disabled"),b.classList.remove("d-none"),b.innerText="".concat(e.t0.response.data),setTimeout((function(){b.classList.add("d-none")}),5e3);case 34:case"end":return e.stop()}}),e,null,[[6,25]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.checkValidity()){e.next=6;break}t.preventDefault(),t.stopPropagation(),e.next=41;break;case 6:if(!t.target.elements.spassword.classList.value.includes("is-invalid")){e.next=10;break}alert("Password invalid"),e.next=41;break;case 10:return t.target.classList.add("was-validated"),e.prev=11,z.current.setAttribute("disabled","true"),I.current.classList.remove("d-none"),s={fName:i,lName:O,email:y,password:_,Dob:P},a={headers:{"Content-Type":"application/json"}},console.log("here too"),e.next=19,x.post("/signup",s,a);case 19:q.current.classList.remove("d-none"),q.current.innerHTML='<span class="bi bi-check-circle-fill text-success flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"></span>\n                    <div>Registration successfull. You can log in now! </div>',setTimeout((function(){q.current.classList.add("d-none")}),5e3),o(""),f(""),w(""),S(""),D(""),I.current.classList.add("d-none"),z.current.removeAttribute("disabled"),F.current.classList.remove("was-validated"),R.current.classList.remove("is-valid"),F.current.classList.add("needs-validation"),e.next=41;break;case 34:e.prev=34,e.t0=e.catch(11),E.current.classList.remove("d-none"),E.current.innerText="".concat(e.t0.response.data),setTimeout((function(){E.current.classList.add("d-none")}),5e3),I.current.classList.add("d-none"),z.current.removeAttribute("disabled");case 41:case"end":return e.stop()}}),e,null,[[11,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"bg-light d-flex justify-content-center align-items-center vh-100 homepage-container",children:[Object(h.jsxs)("div",{className:"alert alert-danger d-flex align-items-center homepage-alert d-none",id:"halert",role:"alert",children:[Object(h.jsx)("svg",{className:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:",children:Object(h.jsx)("use",{xlinkHref:"#exclamation-triangle-fill"})}),Object(h.jsx)("div",{children:"An example danger alert with an icon"})]}),Object(h.jsxs)("div",{class:"alert alert-success d-flex align-items-center homepage-alert d-none",ref:U,role:"alert",children:[Object(h.jsx)("span",{class:"bi bi-check-circle-fill text-success flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"}),Object(h.jsx)("div",{children:"Logged in ..."})]}),Object(h.jsxs)("div",{className:"row gx-2 gy-5 gy-md-0 gx-md-5 p-3 p-md-5",children:[Object(h.jsx)("div",{className:"col-12 col-md-6 col-lg-7 h-50 d-flex justify-content-center align-items-center flex-column p-4",children:Object(h.jsxs)("div",{className:"px-md-2 px-lg-5 ",children:[Object(h.jsx)("h1",{className:"text-primary text-start",children:"Lifebook"}),Object(h.jsx)("h3",{children:"Lifebook helps you connect and share with the people in your life"}),Object(h.jsx)("img",{src:"",id:"img",alt:""})]})}),Object(h.jsxs)("div",{className:"col-12 col-md-6 col-lg-5 ",children:[Object(h.jsx)("div",{className:"login-form pt-2 border bg-white px-2 shadow rounded",children:Object(h.jsx)("form",{action:"#",onSubmit:function(e){return H(e)},children:Object(h.jsxs)("div",{className:"row row-cols-1 gy-4 p-2",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"email",name:"name",id:"lemail",className:"form-control",placeholder:"Email address or Phone number",required:!0})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("input",{type:"password",name:"password",id:"lpassword",className:"form-control",placeholder:"Password",required:!0})}),Object(h.jsx)("div",{className:"col px-4",children:Object(h.jsxs)("button",{type:"submit",ref:T,className:"btn btn-primary w-100",children:[Object(h.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:B,role:"status","aria-hidden":"true"}),"Login"]})}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("a",{href:"#",className:"nav-link text-center",children:" Forgotten password? "}),Object(h.jsx)("hr",{})]}),Object(h.jsx)("div",{className:"col px-5 d-flex justify-content-center",children:Object(h.jsx)("button",{type:"button",className:"btn btn-success mb-3","data-bs-toggle":"modal","data-bs-target":"#signup",children:"Create Account"})})]})})}),Object(h.jsx)("div",{className:"w-100 px-3 pt-3",children:Object(h.jsxs)("p",{children:[Object(h.jsx)("a",{href:"#",className:"nav-link d-inline",children:"Create a page"})," for a celebrity, band or business."]})})]}),Object(h.jsx)("div",{class:"modal fade",id:"signup","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"signupLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsxs)("div",{className:"modal-title",children:[Object(h.jsx)("h3",{class:"modal-title",id:"staticBackdropLabel",children:"Sign Up"}),Object(h.jsx)("h6",{className:"text-muted",children:"It's quick and easy"})]}),Object(h.jsx)("div",{className:"alert alert-danger d-flex justify-content-center d-none",ref:E}),Object(h.jsx)("div",{className:"alert alert-success d-flex justify-content-center d-none",ref:q}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsx)("form",{action:"#",onSubmit:function(e){return W(e)},className:"needs-validation",ref:F,id:"signform",children:Object(h.jsxs)("div",{className:"row gy-2 gx-2 px-3",children:[Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",value:i,onChange:function(e){return o(e.target.value)},required:!0})}),Object(h.jsx)("div",{className:"col-6",children:Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"last name",value:O,onChange:function(e){return f(e.target.value)},required:!0})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Email address",value:y,onChange:function(e){return w(e.target.value)},required:!0})}),Object(h.jsxs)("div",{className:"col-12",children:[Object(h.jsx)("input",{type:"password",form:"signform",className:"form-control",id:"spassword",ref:R,placeholder:"password",onKeyUp:function(e){return function(e){var t=/[A-Z]/g,s=/[a-z]/g,a=/[0-9]/g,c=8,n="",l="",i="",r="";e.target.value.match(t)||(n="one capital letter,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.match(s)||(l="one small letter,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.match(a)||(i="one number,",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),e.target.value.length<c&&(r="8 characters long",e.target.classList.add("is-invalid"),e.target.classList.remove("is-valid")),n.length>0||l.length>0||i.length>0||r.length>0?document.getElementById("spassfeedback").innerText="Password must have atleast "+n+" "+l+" "+i+" "+r+"!":e.target.value?(e.target.classList.add("is-valid"),e.target.classList.remove("is-invalid")):document.getElementById("spassfeedback").innerText="Password required"}(e)},value:_,onChange:function(e){return S(e.target.value)},required:!0}),Object(h.jsx)("div",{className:"invalid-feedback",id:"spassfeedback",children:" Password required! "})]}),Object(h.jsxs)("div",{className:"col-12",children:[Object(h.jsx)("p",{className:"text-muted",children:"Date of Birth: "}),Object(h.jsx)("input",{type:"date",className:"form-control",placeholder:!0,value:P,onChange:function(e){return D(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"col-12",children:[Object(h.jsx)("p",{className:"text-muted",children:"Gender: "}),Object(h.jsxs)("div",{className:"d-flex justify-content-evenly w-lg-50 px-2",children:[Object(h.jsx)("div",{class:"input-group ",children:Object(h.jsxs)("div",{class:"input-group-text",id:"btnGroupAddon",children:[Object(h.jsx)("input",{type:"radio",class:"form-check-input",name:"gender",id:"male","aria-label":"gender","aria-describedby":"btnGroupAddon",required:!0}),Object(h.jsx)("label",{htmlFor:"male",className:"form-check-label ps-2",children:"Male"})]})}),Object(h.jsx)("div",{class:"input-group",children:Object(h.jsxs)("div",{class:"input-group-text",id:"btnGroupAddon",children:[Object(h.jsx)("input",{type:"radio",class:"form-check-input",name:"gender",id:"female","aria-label":"gender","aria-describedby":"btnGroupAddon",required:!0}),Object(h.jsx)("label",{htmlFor:"female",className:"form-check-label ps-2",children:"female"})]})})]})]}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("small",{className:"text-muted text-start",children:"By clicking Sign Up, you agree to our Terms, Data Policy and Cookie Policy. You may receive SMS notifications from us and can opt out at any time."})}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsxs)("button",{type:"submit",ref:z,className:"btn btn-success w-100",children:[Object(h.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:I,role:"status","aria-hidden":"true"}),"Sign Up"]})})]})})})]})})})]})]}),Object(h.jsx)(v,{})]})},N=s(5),y=(s(92),s(13)),w=s.n(y),k=function(e){var t,s=e.currentUser,c=Object(a.useContext)(p),n=Object(r.a)(c,2),l=n[0],o=(n[1],Object(a.useState)("")),m=Object(r.a)(o,2),u=m[0],O=m[1],f=Object(a.useState)([]),v=Object(r.a)(f,2),g=(v[0],v[1],Object(a.useState)([])),N=Object(r.a)(g,2),y=N[0],k=N[1],C=function(e){return"like"===e?"bi bi-hand-thumbs-up-fill text-primary pe-2":"comment"===e?"bi bi-chat-fill text-success pe-2":void 0},_=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,t={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s._id)}},e.next=5,x.put("/readnotification",{},t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(l.length>0){var e,t=Object(j.a)(null===(e=l[0])||void 0===e?void 0:e.getuserNotification.reacts.read);t.reverse(),k(Object(j.a)(t))}}),[l]),Object(a.useEffect)((function(){var e;O(null===(e=l[0])||void 0===e?void 0:e.getuserNotification.reacts.unread.length)}),[l]),Object(h.jsxs)("div",{className:"d-block border  px-xl-2 bg-light rounded-pill position-relative dropdown",style:{height:"45px",width:"45px"},children:[Object(h.jsx)("a",{className:"nav-link d-flex justify-content-center align-items-center p-0 h-100 w-100",id:"notificationdrop",role:"button","data-bs-toggle":"dropdown","aria-aria-expanded":"false",onClick:function(){return _()},children:Object(h.jsx)("span",{className:"bi bi-bell",style:{fontSize:"1.5rem",paddingTop:"0"}})}),u?Object(h.jsx)("div",{className:"rounded-pill bg-danger text-white position-absolute d-flex align-items-center justify-content-center",style:{top:"-8px",right:"-10px",height:"25px",width:"25px"},children:Object(h.jsx)("span",{children:u})}):null,Object(h.jsxs)("ul",{className:"dropdown-menu notify-dropdown px-2","aria-aria-labelledby":"notificationdrop",children:[(null===(t=l[0])||void 0===t?void 0:t.getuserNotification.reacts.unread.length)>0?l[0].getuserNotification.reacts.unread.map((function(e){return Object(h.jsx)("li",{className:"dropdown-item border-bottom bg-light",children:Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsx)("div",{className:"mt-2",children:e.message?Object(h.jsx)("p",{children:e.message}):Object(h.jsxs)("p",{className:"notification-para px-2 mb-0 pb-0",children:[Object(h.jsx)("span",{className:"".concat(C(e.react_type))}),Object(h.jsxs)("b",{children:[" ",e.buddy_name," "]}),"has ","like"===e.react_type&&"liked","comment"===e.react_type&&"commented on"," your",Object(h.jsx)(i.b,{to:"/post?id=".concat(e.post_id),style:{paddingLeft:".5rem",textDecoration:"none"},children:"Post"})]})}),Object(h.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(h.jsx)("p",{className:"text-muted",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})})):null,y.length>0?y.map((function(e){return Object(h.jsx)("li",{className:"dropdown-item border-bottom",children:Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsx)("div",{className:"mt-2",children:e.message?Object(h.jsx)("p",{children:e.message}):Object(h.jsxs)("p",{className:"notification-para px-2 mb-0 pb-0",children:[Object(h.jsx)("span",{className:"".concat(C(e.react_type))}),Object(h.jsxs)("b",{children:[" ",e.buddy_name," "]}),"has ","like"===e.react_type&&"liked","comment"===e.react_type&&"commented on"," your",Object(h.jsx)(i.b,{to:"/post?id=".concat(e.post_id),style:{paddingLeft:".5rem",textDecoration:"none"},children:"Post"})]})}),Object(h.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(h.jsx)("p",{className:"text-muted",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})})):Object(h.jsx)("li",{className:"dropdown-item",children:Object(h.jsx)("p",{className:"p-2",children:"No notification found!"})})]})]})},C=function(e){var t=e.currentUser,s=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("/logout",{headers:{"Content-Type":"application/json"}});case 3:localStorage.setItem("token",""),window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-white sticky-top vw-100 border-bottom",id:"navbar",children:Object(h.jsxs)("div",{className:"container-fluid d-flex justify-content-between align-items-center px-3",children:[Object(h.jsxs)("div",{className:"navbrand",children:[Object(h.jsxs)("a",{className:"navbar-brand me-1",href:"/",children:[" ",Object(h.jsx)("img",{src:"./freeLogo.jpeg",className:"rounded-pill border",height:"50px",width:"50px",alt:"Syed Mahbub"})," "]}),Object(h.jsx)("button",{className:"btn rounded-pill bg-light navsearch border",children:Object(h.jsxs)("form",{action:"",children:[Object(h.jsx)("button",{type:"submit",className:"bg-light bi bi-search navsearchbtn"}),Object(h.jsx)("input",{type:"search",className:"form-control d-none d-xl-inline w-auto ms-2 bg-light navsearchinp",name:"search",placeholder:"Search lifebook..."})]})})]}),Object(h.jsxs)("ul",{className:"navbar-nav mid-nav justify-content-between d-flex",children:[Object(h.jsx)("li",{className:"nav-item d-none d-md-block",children:Object(h.jsx)(i.b,{to:"/",className:"nav-link ",children:Object(h.jsx)("span",{className:"bi bi-house-door"})})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"/",className:"nav-link d-none d-md-block",children:Object(h.jsx)("span",{className:"bi bi-collection-play"})})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link d-none d-md-block",children:Object(h.jsx)("span",{className:"bi bi-shop"})})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link d-none d-md-block",children:Object(h.jsx)("span",{className:"bi bi-people"})})}),Object(h.jsx)("li",{className:"nav-item d-flex align-items-center",children:Object(h.jsx)(k,{currentUser:t})})]}),Object(h.jsx)("button",{className:"btn navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNav","aria-controls":"offcanvasNav",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"offcanvas offcanvas-start d-sm-none bg-light",tabindex:"-1",id:"offcanvasNav","aria-labelledby":"offcanvasNavLabel",children:[Object(h.jsx)("div",{className:"offcanvas-header justify-content-center",children:Object(h.jsx)("button",{type:"button",className:"btn-close text-reset text-center","data-bs-dismiss":"offcanvas","aria-label":"Close"})}),Object(h.jsx)("div",{className:"offcanvas-body justify-content-center align-items-center",children:Object(h.jsxs)("ul",{className:"navbar-nav justify-content-center me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{className:"nav-link ",to:"/profile?id=".concat(t._id),children:[Object(h.jsx)("img",{src:t.image,className:"d-inline rounded-pill",height:"35px",width:"35px",alt:t.name}),Object(h.jsx)("p",{className:"d-inline text-dark ps-2",children:t.name})]})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-2",children:Object(h.jsx)("a",{className:"nav-link active",href:"#","aria-current":"page",children:Object(h.jsx)("span",{className:"bi bi-plus"})})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-2",children:Object(h.jsx)("a",{className:"nav-link",href:"#about-me",children:Object(h.jsx)("span",{className:"bi bi-chat-fill"})})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-2",children:Object(h.jsxs)("a",{className:"nav-link",href:"#my-skills",children:[" ",Object(h.jsx)("span",{className:"bi bi-bell"})]})}),Object(h.jsxs)("li",{className:"nav-item rounded-pill border bg-light me-2 px-2 dropstart",children:[Object(h.jsx)("a",{className:"nav-link",href:"#my-works",role:"button",id:"profiledrop","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(h.jsx)("span",{className:"bi bi-caret-down-fill"})}),Object(h.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"profiledrop",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item",href:"#",children:"Action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{class:"dropdown-item",href:"#",children:"Another action"})}),Object(h.jsx)("li",{children:Object(h.jsx)("button",{type:"button",className:"btn btn-danger dropdown-item",onClick:s,children:" Log Out "})})]})]})]})})]}),Object(h.jsx)("div",{className:"d-none d-sm-block",id:"navbarSupportedContent",children:Object(h.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 justify-content-end",children:[Object(h.jsx)("li",{className:"nav-item navuname d-none d-xl-block",children:Object(h.jsxs)(i.b,{className:"nav-link ",to:"/profile?id=".concat(t._id),children:[t.image?Object(h.jsx)("img",{src:t.image,className:"d-inline rounded-pill",height:"35px",width:"35px",alt:t.name}):Object(h.jsx)("span",{className:"bi bi-person-circle",style:{fontSize:"1.5rem"}}),Object(h.jsx)("p",{className:"d-inline text-dark ps-2",children:t.name})]})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(h.jsx)("a",{className:"nav-link active",href:"#","aria-current":"page",children:Object(h.jsx)("span",{className:"bi bi-plus"})})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(h.jsx)("a",{className:"nav-link",href:"#about-me",children:Object(h.jsx)("span",{className:"bi bi-chat-fill"})})}),Object(h.jsx)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2",children:Object(h.jsxs)("a",{className:"nav-link",href:"#my-skills",children:[" ",Object(h.jsx)("span",{className:"bi bi-bell"})]})}),Object(h.jsxs)("li",{className:"nav-item rounded-pill border bg-light me-2 px-lg-0 px-xl-2 dropdown",children:[Object(h.jsx)("a",{className:"nav-link",href:"#my-works",role:"button",id:"profiledrop","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(h.jsx)("span",{className:"bi bi-caret-down-fill"})}),Object(h.jsxs)("ul",{class:"dropdown-menu nav-drop-down","aria-labelledby":"profiledrop",children:[Object(h.jsx)("li",{children:Object(h.jsxs)(i.b,{className:"row w-100",to:"/profile?id=".concat(t._id),children:[Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("img",{src:t.image,className:"rounded-pill mt-1",height:"56px",width:"56px",alt:t.name})}),Object(h.jsxs)("div",{className:"col-8 pt-2",children:[Object(h.jsx)("h6",{className:"text-dark",children:t.name}),Object(h.jsx)("small",{className:"text-muted",children:"See your profile"})]})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(h.jsx)("div",{className:"col-3 p-2",children:Object(h.jsx)("div",{className:"icon-drop-down rounded-pill bg-light",children:Object(h.jsx)("span",{className:"bi bi-chat-left-quote-fill ps-2"})})}),Object(h.jsxs)("div",{className:"col-8",children:[Object(h.jsx)("h6",{className:"text-dark",children:"Give FeedBack"}),Object(h.jsx)("small",{className:"text-muted",children:"help us improve new lifebook"})]})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(h.jsx)("div",{className:"col-3 p-2",children:Object(h.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(h.jsx)("span",{className:"bi bi-gear ps-2"})})}),Object(h.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(h.jsx)("h6",{className:"text-dark",children:"Settings & Privacy"})})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(h.jsx)("div",{className:"col-3 p-2",children:Object(h.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(h.jsx)("span",{className:"bi bi-question-circle ps-2"})})}),Object(h.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(h.jsx)("h6",{className:"text-dark",children:"Help & Support"})})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{class:"row w-100 text-dark ps-1",href:"#",children:[Object(h.jsx)("div",{className:"col-3 p-2 ",children:Object(h.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(h.jsx)("span",{className:"bi bi-moon-fill ps-2"})})}),Object(h.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(h.jsx)("h6",{className:"text-dark",children:"Display & Accessibility"})})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{onClick:s,class:"row w-100 text-dark ps-1",href:"#",children:[Object(h.jsx)("div",{className:"col-3 p-2",children:Object(h.jsx)("div",{className:"icon-drop-down bg-light rounded-pill",children:Object(h.jsx)("span",{className:"bi bi-box-arrow-left ps-2"})})}),Object(h.jsx)("div",{className:"col-8 d-flex align-items-center",children:Object(h.jsx)("h6",{className:"text-dark",children:"Log Out"})})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"row w-100 text-muted ps-1",href:"#",children:Object(h.jsxs)("div",{className:"col-12 p-2",style:{fontSize:"1rem"},children:[Object(h.jsx)("a",{className:"px-2",href:"",children:"Privacy"}),".",Object(h.jsx)("a",{className:"px-2",href:"",children:"Terms"}),".",Object(h.jsx)("a",{className:"px-2",href:"",children:"Advertising"}),".",Object(h.jsx)("a",{className:"px-2",href:"",children:"Ad Choices"}),".",Object(h.jsx)("a",{className:"px-2",href:"",children:"Cookies"}),".",Object(h.jsx)("a",{className:"px-2",href:"",children:"More"}),". @lifebook 2021"]})})})]})]})]})})]})})},_=(s(100),function(e){var t=e.currentUser;return Object(h.jsx)("section",{className:"leftsidebar-container mt-2 position-absolute w-100",children:Object(h.jsxs)("ul",{className:"d-flex flex-column w-100",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(i.b,{to:"/profile?id=".concat(t._id),className:"nav-link",children:[t.image?Object(h.jsx)("img",{src:t.image,height:"35px",width:"35px",className:"me-2 rounded-pill",alt:t.name}):Object(h.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}}),t.name]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-person-plus-fill text-primary"})," Find friends"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Welcome"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-play-btn-fill text-primary"})," Watch"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-people-fill text-primary"})," Groups"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-shop-fill text-primary"}),"Marketplace"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-bookmark-fill text-primary"}),"Saved"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-arrow-counterclockwise text-primary"}),"Memories"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-flag-fill text-primary"}),"Pages"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)("a",{href:"",className:"nav-link",children:[Object(h.jsx)("span",{className:"bi bi-calendar-date-fill text-primary"}),"Events"]})})]})})}),S=s(14),L=(s(36),Object(a.createContext)()),A=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useState)(!1),o=Object(r.a)(i,2),j=o[0],m=o[1],u=Object(a.useState)([]),p=Object(r.a)(u,2),O=p[0],f=p[1],v=Object(a.useState)(""),g=Object(r.a)(v,2),N=g[0],y=g[1],w=Object(a.useState)(""),k=Object(r.a)(w,2),C=k[0],_=k[1],S=Object(a.useState)(!1),A=Object(r.a)(S,2),P=A[0],D=A[1],I=function(){var e=Object(b.a)(d.a.mark((function e(t,s){var a,c,n,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t," ").concat(s)}},"like"!==s){e.next=11;break}return(c=document.getElementById("like".concat(t))).classList.add("spinner-border"),c.innerText="",e.next=8,x.get("/reacts",a);case 8:n=e.sent,l([n.data]),c.classList.remove("spinner-border");case 11:if("comment"!==s){e.next=19;break}return(i=document.getElementById("loadcomment".concat(t)))&&(i.classList.add("spinner-border"),i.innerText=""),e.next=16,x.get("/reacts",a);case 16:r=e.sent,f([r.data]),i&&i.classList.remove("spinner-border");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,s){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I(C,N)}),[C,N,P,j]),Object(h.jsx)(L.Provider,{value:{likerState:[n,l],postidState:[_],commentsState:[O,f],reqtypeState:[y],newCommentState:[P,D],reqAgainState:[j,m]},children:t})},P=s(42),D=function(e){var t,s=e.i,c=e.currentUser,n=Object(a.useState)(""),l=Object(r.a)(n,2),o=l[0],j=l[1],m=Object(a.useContext)(L),u=m.likerState,p=m.postidState,O=m.commentsState,f=m.reqtypeState,v=m.newCommentState,g=m.reqAgainState,N=Object(r.a)(u,2),y=N[0],k=N[1],C=Object(r.a)(g,2),_=C[0],A=C[1],D=Object(r.a)(O,2),I=D[0],B=D[1],T=Object(r.a)(v,2),z=T[0],E=T[1],U=Object(r.a)(f,1)[0],q=Object(r.a)(p,1)[0],F=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.id)}},e.next=5,x.put("/likepost",{user_id:c._id},s);case 5:a=e.sent,console.log(a),window.location.replace("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.id)}},e.next=5,x.put("/unlikepost",{user_id:c._id},s);case 5:a=e.sent,console.log(a),window.location.replace("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t){A(!_);var s=e;U("comment"),q(s),"true"===t&&E(!z)},W=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},a={comment:o,time:new Date,user_id:c._id},e.next=6,x.put("/comment",a,s);case 6:H(t.target.dataset.postId,"true"),j(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=4,x.delete("/deletepost",s);case 4:window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"col-12 bg-white border rounded p-2","data-post-likes":s.reactions.likes.total,id:s._id,children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between py-1 px-1 px-sm-3",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[s.user_image?Object(h.jsx)("img",Object(S.a)({src:s.user_image,alt:"Name",className:"rounded-pill statusimg me-2"},"alt",s.name)):Object(h.jsx)("span",{className:"bi bi-person-circle pe-3",style:{fontSize:"1.5rem"}}),Object(h.jsxs)("div",{className:" text-start",children:[Object(h.jsx)(i.b,{to:"/profile?id=".concat(s.user_id),className:"mt-1 text-dark",style:{textDecoration:"none"},children:s.name}),Object(h.jsx)("p",{className:"text-muted text-start",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:s.time})})]})]}),Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsx)("a",{className:"btn",style:{padding:"0",height:"24px"},href:"#my-works",role:"button",id:"".concat(s._id,"drop"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(h.jsx)("span",{className:"bi bi-justify"})}),Object(h.jsx)("ul",{class:"dropdown-menu","aria-labelledby":"".concat(s._id,"drop"),children:s.user_id===c._id?Object(h.jsx)("li",{className:"dropdown-item ",children:Object(h.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-bs-toggle":"modal","data-bs-target":"#del".concat(s._id),children:"Delete"})}):Object(h.jsx)("li",{className:"dropdown-item ",children:Object(h.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-post-id":s._id,onClick:function(e){return function(e){document.getElementById(e.target.dataset.postId).style.display="none"}(e)},children:"Hide"})})})]})]}),Object(h.jsxs)("div",{className:"px-3",children:[s.post&&Object(h.jsx)(P.a,{text:s.post,length:170,showMoreLabel:" See more",showLessLabel:" See less",tag:"a",className:"text-dark",ellipsis:"...",style:{cursor:"pointer",color:"blue",fontWeight:"bold",textDecoration:"none"},enabled:!0}),s.image&&Object(h.jsx)("img",{src:s.image,alt:s.name,width:"100%",className:"px-2",style:{objectFit:"contain"}})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline px-3 px-sm-4 mt-2 postreactcount",children:[Object(h.jsxs)("a",{role:"button",onClick:function(e){return function(e){A(!_);var t=e.target.dataset.postId;U("like"),q(t)}(e)},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#modal".concat(s._id),className:"text-muted ",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up text-primary pe-2"}),"".concat(s.reactions.likes.liker.length)]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("a",{role:"button",onClick:function(e){return H(e.target.dataset.postId,"false")},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#comment".concat(s._id),className:"text-muted",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"pe-0 pe-sm-2",children:"".concat(s.reactions.comments.commentators.length)})," Comment"]}),Object(h.jsxs)("a",{href:"",className:"text-muted ms-2",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"pe-0 pe-sm-1",children:"1k"})," shares"]})]})]}),Object(h.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"}),Object(h.jsxs)("div",{className:"d-flex justify-content-around postreact",children:[s.reactions.likes.liker.find((function(e){return e===c._id}))?Object(h.jsxs)("button",{id:s._id,onClick:function(e){return R(e)},className:"btn text-primary",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up-fill pe-2"})," Liked"]}):Object(h.jsxs)("button",{onClick:function(e){return F(e)},id:s._id,className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up pe-2"})," Like"]}),Object(h.jsxs)("button",{onClick:function(e){return H(e.target.dataset.postId,"false")},"data-post-id":s._id,"data-bs-toggle":"modal","data-bs-target":"#comment".concat(s._id),className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-chat pe-2"})," Comment"]}),Object(h.jsxs)("button",{className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-share pe-2"})," Share"]})]})]}),Object(h.jsx)("div",{class:"modal fade",id:"del".concat(s._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"del".concat(s._id,"Label"),"aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsx)("h3",{class:"modal-title",children:"Confirmation"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("p",{className:"ps-3",children:"Are you sure to delete this post?"})}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{type:"button",class:"btn btn-danger","data-post-id":s._id,onClick:function(e){return G(e)},children:"Delete"})]})]})})}),Object(h.jsx)("div",{class:"modal fade",id:"modal".concat(s._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modal".concat(s._id,"Label"),"aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsxs)("h3",{class:"modal-title",children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up-fill text-primaty me-2"}),s.reactions.likes.liker.length]})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:function(){return k([])},"aria-label":"Close"})]}),y.length>0?y[0].user.map((function(e){return Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("div",{className:"row row-cols-1 w-50",children:Object(h.jsxs)("div",{className:"col d-flex justify-content-evenly text-primary",children:[Object(h.jsx)("img",{src:e.image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),Object(h.jsx)("p",{className:"text-dark",children:e.name})]})})})})):Object(h.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(h.jsx)("p",{className:"text-center",id:"like".concat(s._id),role:"status",children:"not found"})})]})})}),Object(h.jsx)("div",{class:"modal fade",id:"comment".concat(s._id),"data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"comment".concat(s._id,"Label"),"aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsxs)("h3",{class:"modal-title text-primary",children:[Object(h.jsx)("span",{className:"bi bi-chat-fill text-primaty me-2"}),null===(t=I[0])||void 0===t?void 0:t.commentators.length]})}),Object(h.jsx)("button",{type:"button",class:"btn-close",onClick:function(){return B([])},"data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body px-3 ",children:I.length>0?I[0].commentators.map((function(e){return Object(h.jsxs)("div",{className:"row w-75 mb-3",children:[Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("img",{src:I[0].user[I[0].user.findIndex((function(t){return t._id===e.user_id}))].image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}})}),Object(h.jsxs)("div",{className:"col-9 bg-light rounded",children:[Object(h.jsx)(i.b,{role:"button",to:"/profile?id=".concat(e.user_id),target:"_blank",style:{textDecoration:"none",fontWeight:"bold"},className:"text-dark",children:I[0].user[I[0].user.findIndex((function(t){return t._id===e.user_id}))].name}),Object(h.jsx)("p",{children:e.comment})]}),Object(h.jsx)("div",{className:"col-12 ",children:Object(h.jsx)("p",{className:"text-muted text-end",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})):Object(h.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(h.jsx)("p",{id:"loadcomment".concat(s._id),children:"no comments found"})})}),Object(h.jsx)("div",{className:"modal-footer justify-content-center",children:Object(h.jsx)("form",{className:"w-100",onSubmit:function(e){return W(e)},"data-post-id":s._id,children:Object(h.jsxs)("div",{className:"row w-100",children:[Object(h.jsx)("div",{className:"col-9",children:Object(h.jsx)("input",{type:"text",placeholder:"write a comment...",className:"form-control",value:o,onChange:function(e){return j(e.target.value)}})}),Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("button",{type:"submit",className:"btn bi",children:"Comment"})})]})})})]})})})]},s._id)},I=function(e){var t=e.currentUser,s=Object(a.useContext)(u),c=s.postState,n=s.isCreatedPostState,l=Object(r.a)(n,2),i=(l[0],l[1]),o=Object(r.a)(c,1)[0],m=Object(a.useState)(""),p=Object(r.a)(m,2),O=p[0],f=p[1],v=Object(a.useState)(""),g=Object(r.a)(v,2),N=g[0],y=g[1],w=Object(j.a)(o);w.reverse();var k=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c,n,l,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),a=s.target.elements.imagepost.files.length,c=s.target.elements.status.value,!(a<=0&&""===c)){e.next=7;break}alert("Please write something or upload a photo"),e.next=22;break;case 7:return e.prev=7,n={_id:t._id,name:t.name,image:t.image,post:O,time:new Date},Object(S.a)(n,"image",N),Object(S.a)(n,"user_image",t.image),Object(S.a)(n,"clearance","public"),l=n,r={headers:{"Content-Type":"application/json"}},e.next=12,x.post("/newpost",l,r);case 12:i(["new post"]),f(""),y(""),s.target.elements.imagepost.value="",window.location.replace("/"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("section",{className:"feed-container",children:Object(h.jsxs)("div",{className:"row feedrow gy-2 gy-sm-4 px-0 px-sm-3 ps-lg-5",children:[Object(h.jsx)("div",{className:"col-12 bg-white rounded p-0 p-sm-2 mt-3 mt-sm-5 border",children:Object(h.jsxs)("div",{className:"row gy-3 gy-sm-3 ps-0 ps-sm-5 pt-3 w-100 m-0 justify-content-center align-items-center pe-1 pe-sm-3",children:[Object(h.jsx)("div",{className:"col-2 d-flex align-items-center justify-content-center ps-3 pe-0",children:t.image?Object(h.jsx)("img",{src:t.image,className:"postimg rounded-pill",alt:""}):Object(h.jsx)("span",{className:"bi bi-person-circle ps-2",style:{fontSize:"1.5rem"}})}),Object(h.jsx)("div",{className:"col-10 pe-sm-5",children:Object(h.jsx)("div",{className:"bg-light statuscol border",children:Object(h.jsx)("form",{action:"",className:"h-100",children:Object(h.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#createpost",placeholder:"What's on your mind, ".concat(t.name,"?"),className:"form-control statusinp bg-light",disabled:!0})})})}),Object(h.jsx)("hr",{className:"mb-1 w-75 w-sm-100"}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsxs)("div",{className:"d-flex justify-content-evenly align-items-center pb-3",children:[Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-camera-reels-fill text-danger pe-2"})," Live Video"]}),Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-images text-success pe-2"})," Photo / Video"]}),Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-emoji-smile text-warning pe-2"})," Feeling activity"]})]})}),Object(h.jsx)("div",{class:"modal fade",id:"createpost","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"createpostLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsx)("h3",{class:"modal-title",children:"Create your post."})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("form",{action:"#",className:"needs-validation",onSubmit:function(e){return k(e)},id:"signform",children:Object(h.jsxs)("div",{className:"row gy-2 gx-2 px-0 px-sm-3",children:[Object(h.jsxs)("div",{className:"col-12",children:[Object(h.jsx)("textarea",{name:"status",className:"form-control postinp",placeholder:"Whats on yout mind, ".concat(t.name,"?"),id:"status",value:O,onChange:function(e){return f(e.target.value)}}),Object(h.jsx)("div",{className:"p-3",children:Object(h.jsx)("img",{src:N,alt:"",style:{maxHeight:"150px",maxWidth:"30%"}})}),Object(h.jsx)("label",{htmlFor:"imagepost mt-2",children:"Upload a photo: "}),Object(h.jsx)("input",{type:"file",id:"imagepost",accept:"img/**",className:"form-control",onChange:function(e){return function(e){if(!(e.target.files.length>0))return null;var t=new FileReader;t.onload=function(e){y(e.target.result)},t.readAsDataURL(e.target.files[0])}(e)}})]}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})})]})})})]})}),w.length>0?w.map((function(e){return Object(h.jsx)(D,{i:e,currentUser:t})})):Object(h.jsx)("div",{className:"col-12 bg-white border rounded p-2",children:Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("h4",{className:"text-center",children:"No more posts"}),Object(h.jsx)("p",{className:"px-1 text-center",children:"Add more friends to see more posts in your News Feed."}),Object(h.jsx)("button",{className:"btn btn-primary",children:"Add friend"})]})})})]})})},B=function(e){var t=e.currentUser,s=Object(N.f)().search.toString().replace("?id=",""),c=Object(a.useState)(""),n=Object(r.a)(c,2),l=n[0],o=n[1],j=Object(a.useState)([]),m=Object(r.a)(j,2),u=m[0],p=m[1],O=Object(a.useState)(""),f=Object(r.a)(O,2),v=f[0],g=f[1],y=Object(a.useContext)(L),k=y.likerState,C=y.postidState,_=y.commentsState,A=y.reqtypeState,P=y.newCommentState,D=y.reqAgainState,I=Object(r.a)(k,2),B=I[0],T=I[1],z=Object(r.a)(D,2),E=z[0],U=z[1],q=Object(r.a)(_,2),F=q[0],R=(q[1],Object(r.a)(P,2)),H=R[0],W=R[1],G=Object(r.a)(A,1)[0],M=Object(r.a)(C,1)[0],V=Object(a.useState)([]),J=Object(r.a)(V,2),Y=J[0],K=J[1],Z=Object(a.useRef)(null),Q=function(){var e=Object(b.a)(d.a.mark((function e(t){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t)}},e.next=4,x.get("/post",s);case 4:a=e.sent,console.log(a),p([a.data]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.id)}},e.next=5,x.put("/likepost",{user_id:t._id},a);case 5:c=e.sent,console.log(c),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.id)}},e.next=5,x.put("/unlikepost",{user_id:t._id},a);case 5:c=e.sent,console.log(c),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(d.a.mark((function e(t){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t.target.dataset.postId)}},e.next=4,x.delete("/deletepost",s);case 4:window.location.replace("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=function(e,t){U(!E);var s=e;G("comment"),M(s),"true"===t&&W(!H)},se=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),""!==v){e.next=4;break}return alert("Please write a comment"),e.abrupt("return",!1);case 4:return e.prev=4,a={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s.target.dataset.postId)}},c={comment:v,time:new Date,user_id:t._id},e.next=9,x.put("/comment",c,a);case 9:te(s.target.dataset.postId,"true"),g(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o(s),te(s,"false")}),[s]),Object(a.useEffect)((function(){l&&Q(l)}),[l]),Object(a.useEffect)((function(){if(u.length>0){var e=u[0].post;K([e])}else console.log(u.length)}),[u]),Object(h.jsx)("div",{className:"row row-cols-1 mt-2",children:Y.length>0?Y.map((function(e){var s;return Object(h.jsxs)("div",{className:"col bg-white border rounded p-2",id:"post".concat(e._id),children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between py-1 px-1 px-sm-3",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[(null===(s=u[0])||void 0===s?void 0:s.user.image)?Object(h.jsx)("img",Object(S.a)({src:u[0].user.image,alt:"Name",className:"rounded-pill statusimg me-2"},"alt",u[0].user.name)):Object(h.jsx)("span",{className:"bi bi-person-circle pe-3",style:{fontSize:"1.5rem"}}),Object(h.jsxs)("div",{className:" text-start",children:[Object(h.jsx)(i.b,{to:"/profile?id=".concat(e.user_id),className:"mt-1 text-dark",style:{textDecoration:"none"},children:u[0].user.name}),Object(h.jsx)("p",{className:"text-muted text-start",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:e.time})})]})]}),Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsx)("a",{className:"btn",style:{padding:"0",height:"24px"},role:"button",id:"".concat(e._id,"drop"),"data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(h.jsx)("span",{className:"bi bi-justify"})}),Object(h.jsx)("ul",{class:"dropdown-menu","aria-labelledby":"".concat(e._id,"drop"),children:e.user_id===t._id?Object(h.jsx)("li",{className:"dropdown-item ",children:Object(h.jsx)("button",{className:"btn text-white w-100 text-center bg-danger","data-bs-toggle":"modal","data-bs-target":"#del".concat(e._id),children:"Delete"})}):null})]})]}),Object(h.jsxs)("div",{className:"px-3",children:[e.post&&Object(h.jsx)("p",{className:"px-1",children:e.post}),e.image&&Object(h.jsx)("img",{src:e.image,alt:e.name,width:"100%",className:"px-2",style:{objectFit:"contain"}})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline px-3 px-sm-4 mt-2 postreactcount",children:[Object(h.jsxs)("a",{role:"button",onClick:function(e){return function(e){U(!E);var t=e.target.dataset.postId;G("like"),M(t)}(e)},"data-post-id":e._id,"data-bs-toggle":"modal","data-bs-target":"#modal".concat(e._id),className:"text-muted ",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up text-primary pe-2",style:{pointerEvents:"none"}}),e.reactions.likes.liker.length]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("a",{role:"button",className:"text-muted",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"pe-0 pe-sm-2",children:e.reactions.comments.commentators.length})," Comment"]}),Object(h.jsxs)("a",{href:"",className:"text-muted ms-2",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"pe-0 pe-sm-1",children:"1k"})," shares"]})]})]}),Object(h.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"}),Object(h.jsxs)("div",{className:"d-flex justify-content-around postreact",children:[e.reactions.likes.liker.find((function(e){return e===t._id}))?Object(h.jsxs)("button",{id:e._id,onClick:function(e){return $(e)},className:"btn text-primary",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up-fill pe-2"})," Liked"]}):Object(h.jsxs)("button",{onClick:function(e){return X(e)},id:e._id,className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up pe-2"})," Like"]}),Object(h.jsxs)("button",{"data-post-id":e._id,onClick:function(){return Z.current.focus()},className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-chat pe-2"})," Comment"]}),Object(h.jsxs)("button",{className:"btn text-dark",style:{textDecoration:"none"},children:[Object(h.jsx)("span",{className:"bi bi-share pe-2"})," Share"]})]}),Object(h.jsx)("hr",{className:"mt-1 mb-2 m-sm-3"})]}),Object(h.jsxs)("div",{className:"comment px-3",children:[F.length>0?F[0].commentators.map((function(e){return Object(h.jsxs)("div",{className:"row w-75 mb-3",children:[Object(h.jsxs)("div",{className:"col-12 d-flex flex-row justify-content-start",children:[F[0].user[F[0].user.findIndex((function(t){return t._id===e.user_id}))].image&&Object(h.jsx)("img",{src:F[0].user[F[0].user.findIndex((function(t){return t._id===e.user_id}))].image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),!F[0].user[F[0].user.findIndex((function(t){return t._id===e.user_id}))].image&&Object(h.jsx)("span",{className:"bi bi-person-circle",style:{fontSize:"1.5rem"}}),Object(h.jsxs)("div",{className:"ms-3 px-2 bg-light rounded",children:[Object(h.jsx)(i.b,{role:"button",to:"/profile?id=".concat(e.user_id),target:"_blank",style:{textDecoration:"none",fontWeight:"bold"},className:"text-dark",children:F[0].user[F[0].user.findIndex((function(t){return t._id===e.user_id}))].name}),Object(h.jsx)("p",{children:e.comment})]})]}),Object(h.jsx)("div",{className:"col-12 ",children:Object(h.jsx)("p",{className:"text-muted text-end",children:Object(h.jsx)(w.a,{fromNow:!0,interval:1e3,children:e.time})})})]})})):Object(h.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(h.jsx)("p",{id:"loadcomment".concat(e._id),children:"no comments found"})}),Object(h.jsx)("div",{className:"modal-footer justify-content-center",children:Object(h.jsx)("form",{className:"w-100",onSubmit:function(e){return se(e)},"data-post-id":e._id,children:Object(h.jsxs)("div",{className:"row w-100",children:[Object(h.jsx)("div",{className:"col-9",children:Object(h.jsx)("input",{type:"text",ref:Z,placeholder:"write a comment...",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})}),Object(h.jsx)("div",{className:"col-3",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Comment"})})]})})})]}),Object(h.jsx)("div",{class:"modal fade",id:"modal".concat(e._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"modal".concat(e._id,"Label"),"aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsx)("h3",{class:"modal-title",children:Object(h.jsx)("span",{className:"bi bi-hand-thumbs-up-fill text-primaty me-2"})})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal",onClick:function(){return T([])},"aria-label":"Close"})]}),B.length>0?B[0].user.map((function(e){return Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("div",{className:"row row-cols-1 w-50",children:Object(h.jsxs)("div",{className:"col d-flex justify-content-evenly text-primary",children:[Object(h.jsx)("img",{src:e.image,alt:"",className:"rounded-pill",style:{height:"35px",width:"35px"}}),Object(h.jsx)("p",{className:"text-dark",children:e.name})]})})})})):Object(h.jsx)("div",{className:"d-flex justify-content-center p-4",children:Object(h.jsx)("p",{className:"text-center",id:"like".concat(e._id),role:"status",children:"not found"})})]})})}),Object(h.jsx)("div",{class:"modal fade",id:"del".concat(e._id),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"del".concat(e._id,"Label"),"aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsx)("h3",{class:"modal-title",children:"Confirmation"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("p",{className:"ps-3",children:"Are you sure to delete this post?"})}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{type:"button",class:"btn btn-danger","data-post-id":e._id,onClick:function(e){return ee(e)},children:"Delete"})]})]})})})]},e._id)})):Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("p",{children:"Post not found!"})})})},T=(s(101),function(e){var t=e.currentUser,s=Object(a.useState)(Boolean),c=Object(r.a)(s,2),n=c[0],l=c[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),m=o[0],u=o[1],p=Object(a.useState)([]),O=Object(r.a)(p,2),f=O[0],v=O[1],g=Object(a.useState)([]),y=Object(r.a)(g,2),w=y[0],k=y[1],C=Object(a.useRef)(null),_=Object(a.useRef)(null),S=Object(a.useRef)(null),L=Object(a.useRef)(null),A=Object(N.f)().search.toString().replace("?id=",""),P=Object(a.useState)(""),I=Object(r.a)(P,2),B=I[0],T=I[1],z=Object(j.a)(f);z.reverse();var E=[];w.length&&(E=Object(j.a)(w[0].album)).reverse();var U=function(e){if(e.target.files.length>0){var t=new FileReader;t.onload=function(e){u(e.target.result)},t.readAsDataURL(e.target.files[0]),C.current.removeAttribute("disabled"),S.current.removeAttribute("disabled")}},q=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,S.current.setAttribute("disabled","true"),L.current.classList.remove("d-none"),a={cover_img:m},c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t._id)}},e.next=8,x.put("/updateuserprofile",a,c);case 8:n=e.sent,console.log(n),window.location.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(d.a.mark((function e(s){var a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,C.current.setAttribute("disabled","true"),_.current.classList.remove("d-none"),a={profile_img:m},c={headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(t._id)}},e.next=8,x.put("/updateuserprofile",a,c);case 8:n=e.sent,console.log(n),window.location.replace("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(d.a.mark((function e(s){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s===t._id?l(!0):l(!1),e.next=5,x.get("/profile",{headers:{"Content-Type":"application/json",Athorization:"Bearer ".concat(s)}});case 5:a=e.sent,v(Object(j.a)(a.data.userPosts)),k(Object(j.a)(a.data.user)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){R(B)}),[B]),Object(a.useEffect)((function(){T(A)}),[A]),Object(h.jsxs)("div",{className:"profile-container",children:[Object(h.jsxs)("div",{className:"row gy-sm-5 cover-container border-bottom bg-white w-100 m-0 p-0 ",children:[w.length>0?Object(h.jsxs)("div",{className:"col-12 profile-cover mt-0 border",children:[Object(h.jsx)("img",{src:w[0].cover_img,className:"rounded",alt:""}),Object(h.jsxs)("div",{className:"profile-cover-main d-flex justify-content-center w-100",children:[Object(h.jsx)("img",{src:w[0].cover_img,className:"rounded",alt:t.name}),n&&Object(h.jsx)("div",{className:"position-absolute d-flex justify-content-center w-100",style:{bottom:"0",zIndex:"100"},children:Object(h.jsx)("div",{className:"d-flex justify-content-end",style:{width:"90%"},children:Object(h.jsxs)("button",{type:"button",class:"btn btn-secondary ","data-bs-toggle":"modal","data-bs-target":"#changeCover",children:[Object(h.jsx)("span",{className:"bi bi-camera me-1"}),Object(h.jsx)("span",{className:"d-none d-sm-inline-block",children:"Change Cover"})]})})})]}),Object(h.jsxs)("div",{className:"cover-bottom d-flex flex-column justify-content-center w-100",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-center w-100 position-relative",children:[Object(h.jsx)("div",{className:"profile-img rounded-pill bg-white",children:w.length>0?w[0].profile_img?Object(h.jsx)("img",{src:w[0].profile_img,className:"rounded-pill",alt:""}):Object(h.jsx)("span",{className:"bi bi-person-circle"}):null}),n&&Object(h.jsx)("div",{className:"position-absolute d-flex justify-content-end",style:{bottom:"0",width:"110px",zIndex:"100"},children:Object(h.jsx)("button",{type:"button",class:"btn btn-secondary bi bi-camera rounded-pill","data-bs-toggle":"modal","data-bs-target":"#changeProfile"})})]}),Object(h.jsxs)("div",{className:"pt-2",children:[Object(h.jsx)("h3",{className:"text-center",children:w[0].name}),Object(h.jsx)("p",{className:"text-muted text-center",children:"Your Bio"})]})]})]}):null,Object(h.jsx)("div",{className:"col-12 d-flex justify-content-center pt-5 mt-3 mt-sm-5",children:Object(h.jsx)("div",{className:"profile-nav pt-5",children:Object(h.jsxs)("ul",{className:"navbar border-top pt-3",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Home"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)("a",{href:"",className:"nav-link",children:"Home"})})]})})})]}),Object(h.jsx)("div",{class:"modal fade",id:"changeCover","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeCoverLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:"Change your cover picture"}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsxs)("div",{class:"modal-body",children:[Object(h.jsx)("form",{action:"",id:"changeCoverPic",onSubmit:function(e){return q(e)},children:Object(h.jsx)("input",{type:"file",className:"form-control",onChange:function(e){return U(e)},placeholder:"Change Profile Picture"})}),Object(h.jsx)("div",{className:"p-3",children:Object(h.jsx)("img",{src:m,alt:"",style:{maxHeight:"250px",maxWidth:"100%"}})})]}),Object(h.jsx)("div",{class:"modal-footer",children:Object(h.jsxs)("button",{type:"submit",ref:S,form:"changeCoverPic",disabled:!0,className:"btn btn-primary",children:[Object(h.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:L,role:"status","aria-hidden":"true"}),"Change Cover Picture"]})})]})})}),Object(h.jsx)("div",{class:"modal fade",id:"changeProfile","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"changeProfileLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:"Change your profile picture"}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsxs)("div",{class:"modal-body",children:[Object(h.jsx)("form",{action:"",id:"changeProfilePic",onSubmit:function(e){return F(e)},children:Object(h.jsx)("input",{type:"file",className:"form-control",onChange:function(e){return U(e)},placeholder:"Change Profile Picture"})}),Object(h.jsx)("div",{className:"p-3",children:Object(h.jsx)("img",{src:m,alt:"",style:{maxHeight:"250px",maxWidth:"100%"}})})]}),Object(h.jsx)("div",{class:"modal-footer",children:Object(h.jsxs)("button",{type:"submit",ref:C,form:"changeProfilePic",disabled:!0,className:"btn btn-primary",children:[Object(h.jsx)("span",{class:"spinner-border spinner-border-sm me-3 d-none",ref:_,role:"status","aria-hidden":"true"}),"Change Profile Picture"]})})]})})}),Object(h.jsx)("div",{className:"bottom-container d-flex justify-content-center px-sm-5 px-md-5 py-2",children:Object(h.jsxs)("div",{className:"row row-cols-1 row-cols-md-2 gy-2 gy-md-0 mt-lg-3 px-sm-3 px-md-5 bottom-row gx-4",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("div",{className:"row row-cols-1 gy-3 bottom-left",children:[n&&Object(h.jsxs)("div",{className:"col px-3 py-3 bg-white border rounded",children:[Object(h.jsx)("h3",{children:Object(h.jsx)("b",{children:"Your Profile"})}),Object(h.jsx)("p",{className:"text-muted px-2",children:"Add details to connect with more friends and help them to get to know you better."}),Object(h.jsx)("button",{className:"btn btn-primary w-100",children:" Get Started "})]}),n&&Object(h.jsxs)("div",{className:"col p-3 bg-white border rounded",children:[Object(h.jsx)("h3",{children:Object(h.jsx)("b",{children:"Intro"})}),Object(h.jsx)("button",{className:"btn btn-light w-100 mt-2 mb-3",children:" Edit Details "}),Object(h.jsx)("button",{className:"btn btn-light w-100 mb-3",children:" Add Hobbies "}),Object(h.jsx)("button",{className:"btn btn-light w-100 mb-3",children:" Add Features "})]}),Object(h.jsxs)("div",{className:"col bg-white border rounded p-3",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("h5",{children:"Photos"}),Object(h.jsx)("a",{href:"#",children:"See All"})]}),E.length&&Object(h.jsxs)("div",{className:"row row-cols-2 gx-3 gy-2",children:[Object(h.jsx)("div",{className:"col p-1",children:Object(h.jsx)("div",{className:"border",children:Object(h.jsx)("img",{src:E[0],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(h.jsx)("div",{className:"col p-1",children:Object(h.jsx)("div",{className:"border",children:Object(h.jsx)("img",{src:E[1],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(h.jsx)("div",{className:"col p-1",children:Object(h.jsx)("div",{className:"border",children:Object(h.jsx)("img",{src:E[2],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})}),Object(h.jsx)("div",{className:"col p-1",children:Object(h.jsx)("div",{className:"border",children:Object(h.jsx)("img",{src:E[3],alt:"",style:{height:"125px",width:"100%",padding:".3rem"}})})})]})]}),Object(h.jsx)("div",{className:"col bg-white border rounded p-3",children:Object(h.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(h.jsx)("h5",{children:"Friends"}),Object(h.jsx)("a",{href:"#",children:"See All"})]})})]})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)("div",{className:"row row-cols-1 gy-4",children:[Object(h.jsx)("div",{className:"col bg-white border rounded",children:Object(h.jsxs)("div",{className:"row justify-content-center align-items-center",children:[n?Object(h.jsx)("div",{className:"col-3 pt-3 pb-3",children:t.image?Object(h.jsx)("img",{src:t.image,className:"postimg rounded-pill",alt:t.name}):Object(h.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}})}):Object(h.jsx)("div",{className:"col-3 pt-3 pb-3",children:w.length&&w[0].profile_img?Object(h.jsx)("img",{src:w[0].profile_img,className:"postimg rounded-pill",alt:w[0].name}):Object(h.jsx)("span",{className:"bi bi-person-circle ps-3",style:{fontSize:"1.5rem"}})}),n?Object(h.jsx)("div",{className:"col-9 pe-5 pt-3 pb-3",children:Object(h.jsx)("div",{className:"bg-light statuscol border",children:Object(h.jsx)("form",{action:"",children:Object(h.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#profcreatepost",placeholder:"What's on your mind, ".concat(t.name,"?"),className:"form-control profstatusinp bg-light",disabled:!0})})})}):Object(h.jsx)("div",{className:"col-9 pe-5 pt-3 pb-3",children:Object(h.jsx)("div",{className:"bg-light statuscol border",children:Object(h.jsx)("form",{action:"",children:w.length&&Object(h.jsx)("input",{type:"text","data-bs-toggle":"modal","data-bs-target":"#profcreatepost",placeholder:"Post on ".concat(w[0].name,"'s timeline'"),className:"form-control profstatusinp bg-light",disabled:!0})})})}),Object(h.jsx)("hr",{className:"mb-1 w-75 w-sm-100"}),Object(h.jsx)("div",{className:"col-12 py-2 px-3",children:Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3",children:[Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-camera-reels-fill text-danger pe-2"})," Live Video"]}),Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-images text-success pe-2"})," Photo / Video"]}),Object(h.jsxs)("div",{className:"mx-2 postbottom ",children:[Object(h.jsx)("span",{className:"bi bi-emoji-smile text-warning pe-2"})," Feeling activity"]})]})}),Object(h.jsx)("div",{class:"modal fade",id:"profcreatepost","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"profcreatepostLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("div",{className:"modal-title",children:Object(h.jsx)("h3",{class:"modal-title",children:"Create your post."})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body px-1 ",children:Object(h.jsx)("form",{action:"#",className:"needs-validation",onSubmit:"{e => handlePostForm(e)}",id:"signform",children:Object(h.jsxs)("div",{className:"row gy-2 gx-2 px-0 px-sm-3",children:[Object(h.jsxs)("div",{className:"col-12",children:[Object(h.jsx)("textarea",{name:"status",className:"form-control postinp",placeholder:"Whats on yout mind, ".concat(t.name,"?"),id:"status",value:"{userPost}",onChange:"{e => setUserPost(e.target.value)}",required:!0}),Object(h.jsx)("label",{htmlFor:"imagepost mt-2",children:"Upload a photo: "}),Object(h.jsx)("input",{type:"file",id:"imagepost",accept:"img/**",className:"form-control",onChange:"{e => setimage(e)}"})]}),Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})})]})})})]})}),z.length>0?z.map((function(e){return Object(h.jsx)(D,{i:e,currentUser:t})})):null]})})]})})]})}),z=(s(102),function(){return Object(h.jsxs)("section",{className:"rightbar-container position-absolute px-3",children:[Object(h.jsx)("h4",{children:"Group conversations"}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[Object(h.jsx)("span",{className:"bi bi-plus me-2 bg-light border p-1 rounded-pill"})," Create New Group"]})})]})}),E=function(e){var t=e.currentUser;return Object(h.jsxs)("div",{className:"bg-light",children:[Object(h.jsx)(C,{currentUser:t}),Object(h.jsxs)(N.c,{children:[Object(h.jsx)(N.a,{exact:!0,path:"/",children:Object(h.jsxs)("div",{className:"row position-relative gx-0 px-3 px-md-0 gx-md-4 gx-lg-0",children:[Object(h.jsx)("div",{className:"col-xl-3 position-sticky leftcol d-none d-xl-block",children:Object(h.jsx)(_,{currentUser:t})}),Object(h.jsx)("div",{className:"col-12 col-md-7 col-lg-8 col-xl-6",children:Object(h.jsx)(I,{currentUser:t})}),Object(h.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 d-none d-md-block position-sticky rightcol",children:Object(h.jsx)(z,{})})]})}),Object(h.jsx)(N.a,{path:"/profile",children:Object(h.jsx)(T,{currentUser:t})}),Object(h.jsx)(N.a,{path:"/post",children:Object(h.jsx)("div",{className:"row position-relative justify-content-center gx-0 px-3 px-md-0 gx-md-4 gx-lg-0",children:Object(h.jsx)("div",{className:"col-12 col-md-7 col-lg-8 col-xl-6",children:Object(h.jsx)(B,{currentUser:t})})})})]})]})};s(103);var U=function(){var e=Object(a.useContext)(u).loggeduserState,t=Object(r.a)(e,1)[0];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{id:"App"}),Object(h.jsx)("div",{className:"d-none",id:"main",children:t.length>0?Object(h.jsx)("div",{children:Object(h.jsx)(E,{currentUser:t[0]})}):Object(h.jsx)(g,{})})]})},q=(s(104),Object(a.createContext)()),F=function(e){var t=e.children,s=Object(a.useState)([]),c=Object(r.a)(s,2),n=c[0],l=c[1];return Object(h.jsx)(q.Provider,{value:[n,l],children:t})};l.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(A,{children:Object(h.jsx)(O,{children:Object(h.jsx)(f,{children:Object(h.jsx)(F,{children:Object(h.jsx)(U,{})})})})})})}),document.getElementById("root"))},36:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){}},[[105,1,2]]]);
//# sourceMappingURL=main.7538978f.chunk.js.map